{"version":3,"file":"CustomTimeTableGrid-BL47Ekk3.js","sources":["../../../app/common/primitives/GridWrapper.tsx","../../../app/common/components/timetable/Tile.tsx","../../../app/common/components/timetable/CustomTimeTableGrid.tsx"],"sourcesContent":["import styled from \"@emotion/styled\"\n\nexport interface GridWrapperProps {\n    columns: string\n    rows: string\n    gap: string\n    flow: \"row\" | \"column\"\n    alignItems?: \"stretch\" | \"center\" | \"start\" | \"end\"\n    justifyItems?: \"stretch\" | \"center\" | \"start\" | \"end\"\n    alignContents?:\n        | \"stretch\"\n        | \"center\"\n        | \"start\"\n        | \"end\"\n        | \"space-between\"\n        | \"space-around\"\n        | \"space-evenly\"\n    justifyContents?:\n        | \"stretch\"\n        | \"center\"\n        | \"start\"\n        | \"end\"\n        | \"space-between\"\n        | \"space-around\"\n        | \"space-evenly\"\n    padding?: string\n}\n\nconst GridWrapper = styled.div<GridWrapperProps>`\n    width: 100%;\n    height: 100%;\n    display: grid;\n    position: relative;\n    grid-template-columns: ${({ columns }) => columns};\n    grid-template-rows: ${({ rows }) => rows};\n    gap: ${({ gap }) => gap};\n    align-items: ${({ alignItems }) => alignItems ?? \"start\"};\n    justify-items: ${({ justifyItems }) => justifyItems ?? \"start\"};\n    align-content: ${({ alignContents }) => alignContents ?? \"start\"};\n    justify-content: ${({ justifyContents }) => justifyContents ?? \"start\"};\n    grid-auto-flow: ${({ flow }) => flow};\n    padding: ${({ padding }) => padding ?? \"0px\"};\n`\n\nexport default GridWrapper\n","import { type CSSProperties, memo } from \"react\"\n\nimport { type Theme, ThemeProvider, css } from \"@emotion/react\"\nimport styled from \"@emotion/styled\"\nimport { Close } from \"@mui/icons-material\"\n\nimport FlexWrapper from \"@/common/primitives/FlexWrapper\"\nimport Icon from \"@/common/primitives/Icon\"\nimport { IconButton } from \"@/common/primitives/IconButton\"\nimport Typography from \"@/common/primitives/Typography\"\nimport { type Lecture } from \"@/common/schemas/lecture\"\nimport lightTheme from \"@/styles/themes/light\"\n\nconst flattenTimeTableColors = (\n    timeTable: Theme[\"colors\"][\"Tile\"][\"TimeTable\"][\"default\"],\n): Array<CSSProperties[\"color\"]> => {\n    return [\n        timeTable.red[1],\n        timeTable.red[2],\n        timeTable.orange[1],\n        timeTable.orange[2],\n        timeTable.yellow[1],\n        timeTable.yellow[2],\n        timeTable.green[1],\n        timeTable.green[2],\n        timeTable.green[3],\n        timeTable.blue[1],\n        timeTable.blue[2],\n        timeTable.purple[1],\n        timeTable.purple[2],\n        timeTable.pink[1],\n        timeTable.pink[2],\n    ]\n}\n\nconst HoverTileWrapper = styled(FlexWrapper)`\n    display: none;\n    grid-column: var(--hover-day);\n    grid-row: var(--hover-start) / var(--hover-end);\n    pointer-events: none;\n\n    [data-is-dragging=\"true\"] &,\n    [data-is-dragging=\"wait\"] & {\n        display: flex;\n    }\n`\n\nconst HoverTileInner = styled(FlexWrapper)`\n    background: rgba(229, 76, 101, 0.4);\n    border-radius: 4px;\n`\n\nfunction HoverTile() {\n    return (\n        <HoverTileWrapper direction=\"column\" gap={0} padding=\"1px 0px\" align=\"stretch\">\n            <HoverTileInner direction=\"column\" gap={0} flex=\"1 1 auto\" />\n        </HoverTileWrapper>\n    )\n}\n\nconst MemoizedHoverTile = memo(HoverTile)\n\nexport const LECTURE_TILE_CLASSNAME = \"lecture-tile\"\n\nexport const LectureTileHoverCss = (theme: Theme) => css`\n    background: ${theme.colors.Highlight.default};\n\n    .lecture-title {\n        color: #ffffff;\n    }\n\n    .lecture-info {\n        color: rgba(255, 255, 255, 0.5);\n    }\n\n    .lecture-delete-wrapper {\n        pointer-events: auto;\n        visibility: visible;\n    }\n`\n\nconst LectureTileWrapper = styled(FlexWrapper)<{\n    rowStart: number\n    rowEnd: number\n    col: number\n}>`\n    grid-column: ${({ col }) => col};\n    grid-row: ${({ rowStart, rowEnd }) => `${rowStart} / ${rowEnd}`};\n    overflow: hidden;\n    pointer-events: none;\n`\n\nconst LectureTileInner = styled(FlexWrapper)<{\n    courseId: number\n    lectureId: number\n}>`\n    background: ${({ theme, courseId }) =>\n        () => {\n            const flat = flattenTimeTableColors(theme.colors.Tile.TimeTable.default)\n            return flat[courseId % flat.length]\n        }};\n    border-radius: 2px;\n    overflow: hidden;\n    pointer-events: none;\n\n    [data-interaction=\"true\"] & {\n        pointer-events: auto;\n        cursor: pointer;\n        &:hover {\n            ${({ theme }) => LectureTileHoverCss(theme)}\n        }\n    }\n\n    [data-is-dragging=\"true\"] & {\n        pointer-events: none;\n    }\n\n    .timetable-grid-wrapper:not(:hover)\n        [data-hovered-lectures~=\"${({ lectureId }) => lectureId}\"]\n        &,\n    [data-selected-lecture=\"${({ lectureId }) => lectureId}\"] & {\n        ${({ theme }) => LectureTileHoverCss(theme)}\n    }\n`\n\nconst LectureDeleteWrapper = styled(FlexWrapper)`\n    pointer-events: none;\n    visibility: hidden;\n\n    [data-lecture-deletable=\"false\"] & {\n        pointer-events: none !important;\n        visibility: hidden !important;\n    }\n`\n\ninterface LectureTileProps {\n    lecture: Lecture\n    classIdx: number\n    deleteLecture?: () => void\n}\n\nfunction LectureTile({ lecture, classIdx, deleteLecture }: LectureTileProps) {\n    const cls = lecture.classes[classIdx]\n\n    if (cls == null) return null\n\n    return (\n        <LectureTileWrapper\n            direction=\"column\"\n            gap={0}\n            padding=\"1px 0px\"\n            justify=\"stretch\"\n            align=\"stretch\"\n            col={cls.day + 1}\n            rowStart={cls.begin / 30 - 14}\n            rowEnd={cls.end / 30 - 14}\n        >\n            <LectureTileInner\n                direction=\"row\"\n                gap={0}\n                flex=\"1 1 auto\"\n                align=\"stretch\"\n                justify=\"stretch\"\n                padding=\"2px\"\n                courseId={lecture.courseId}\n                lectureId={lecture.id}\n                className={LECTURE_TILE_CLASSNAME}\n            >\n                <FlexWrapper\n                    direction=\"column\"\n                    justify=\"center\"\n                    flex=\"1 1 auto\"\n                    gap={0}\n                    padding=\"4px 0px 4px 4px\"\n                >\n                    <FlexWrapper\n                        direction=\"column\"\n                        gap={0}\n                        align=\"flex-start\"\n                        style={{ overflow: \"hidden\" }}\n                    >\n                        <ThemeProvider theme={lightTheme}>\n                            <Typography\n                                type=\"Small\"\n                                color=\"Text.dark\"\n                                className=\"lecture-title\"\n                            >\n                                {lecture.name}\n                                {lecture.subtitle}\n                            </Typography>\n                            <Typography\n                                type=\"Small\"\n                                color=\"Text.lighter\"\n                                className=\"lecture-info\"\n                            >\n                                {lecture.professors\n                                    .map((professor) => professor.name)\n                                    .join(\", \")}\n                            </Typography>\n                            <Typography\n                                type=\"Small\"\n                                color=\"Text.lighter\"\n                                className=\"lecture-info\"\n                            >\n                                {`(${cls.buildingCode}) ${cls.roomName}`}\n                            </Typography>\n                        </ThemeProvider>\n                    </FlexWrapper>\n                </FlexWrapper>\n\n                <LectureDeleteWrapper\n                    direction=\"column\"\n                    flex=\"0 1 0\"\n                    gap={0}\n                    align=\"flex-end\"\n                    justify=\"flex-start\"\n                    className=\"lecture-delete-wrapper\"\n                >\n                    <IconButton styles={{ padding: 3 }} onClick={deleteLecture}>\n                        <Icon\n                            size={12}\n                            onClick={() => {}}\n                            style={{\n                                color: \"rgba(255, 255, 255, 0.6)\",\n                                opacity: deleteLecture ? 1 : 0,\n                                pointerEvents: deleteLecture ? \"auto\" : \"none\",\n                            }}\n                        >\n                            <Close />\n                        </Icon>\n                    </IconButton>\n                </LectureDeleteWrapper>\n            </LectureTileInner>\n        </LectureTileWrapper>\n    )\n}\n\nconst MemoizedLectureTile = memo(LectureTile, (prevProps, nextProps) => {\n    return (\n        prevProps.lecture === nextProps.lecture &&\n        prevProps.classIdx === nextProps.classIdx\n    )\n})\n\nexport { MemoizedHoverTile as HoverTile, MemoizedLectureTile as LectureTile }\n","import { Fragment, memo, useCallback, useEffect, useRef, useState } from \"react\"\n\nimport styled from \"@emotion/styled\"\nimport { useTranslation } from \"react-i18next\"\n\nimport FlexWrapper from \"@/common/primitives/FlexWrapper\"\nimport GridWrapper from \"@/common/primitives/GridWrapper\"\nimport Typography from \"@/common/primitives/Typography\"\nimport { type Lecture } from \"@/common/schemas/lecture\"\nimport { type TimeBlock } from \"@/common/schemas/timeblock\"\n\nimport {\n    HoverTile,\n    LECTURE_TILE_CLASSNAME,\n    LectureTile,\n    LectureTileHoverCss,\n} from \"./Tile\"\n\nconst TIME_BEGIN = 8\nconst TIME_END = 24\n\nconst TIMES24 = Array.from(\n    { length: TIME_END - TIME_BEGIN + 1 },\n    (_, i) => TIME_BEGIN + i,\n)\n\nconst TIMES = TIMES24.map((time) => (time % 12 || 12).toString())\n\nconst SLOT_COUNT = (TIMES.length - 1) * 2\n\nconst DAYS = [\"monday\", \"tuesday\", \"wednesday\", \"thursday\", \"friday\"]\n\nconst HEADER_HEIGHT = 20\nconst HEADER_CALIBRATION = 0.8\nconst ROW_GAP = 5\nconst LINE_HEIGHT = 1\n\nconst BackgroundGrid = styled(GridWrapper)`\n    z-index: 1;\n`\n\nconst OverlayGrid = styled(GridWrapper)`\n    position: absolute;\n    z-index: 2;\n    pointer-events: none;\n\n    --hover-day: 0;\n    --hover-start: 0;\n    --hover-end: 0;\n`\n\nconst BackgroundGridBlock = styled(FlexWrapper)`\n    box-sizing: border-box;\n    touch-action: none;\n\n    &.half {\n        border-top: ${LINE_HEIGHT}px dashed ${({ theme }) => theme.colors.Line.block};\n    }\n\n    &.hour {\n        border-top: ${LINE_HEIGHT}px solid ${({ theme }) => theme.colors.Line.block};\n    }\n\n    &.last {\n        border-bottom: ${LINE_HEIGHT}px solid ${({ theme }) => theme.colors.Line.darker};\n    }\n\n    &.bold {\n        border-color: ${({ theme }) => theme.colors.Line.darker};\n    }\n\n    user-select: none;\n\n    [data-need-time-filter=\"true\"] & {\n        pointer-events: auto;\n        cursor: pointer;\n\n        :hover div {\n            background: rgba(229, 76, 101, 0.2);\n        }\n    }\n\n    [data-need-time-filter=\"true\"][data-is-dragging=\"true\"] & {\n        :hover div {\n            background: none;\n        }\n\n        cursor: ns-resize;\n    }\n`\n\ninterface BackgroundGridBlockProps {\n    dayIdx: number\n    timeIdx: number\n    [key: string]: any\n}\n\nconst MemoizedBackgroundGridBlock = memo(\n    ({ dayIdx, timeIdx, ...rest }: BackgroundGridBlockProps) => {\n        return (\n            <BackgroundGridBlock\n                direction=\"column\"\n                gap={0}\n                padding=\"1px\"\n                align=\"stretch\"\n                justify=\"stretch\"\n                {...rest}\n            >\n                <FlexWrapper\n                    direction=\"column\"\n                    gap={0}\n                    flex=\"1 1 auto\"\n                    style={{ borderRadius: \"4px\", pointerEvents: \"none\" }}\n                />\n            </BackgroundGridBlock>\n        )\n    },\n)\n\nconst LectureTileWrapper = styled.div<{ lectureId: number }>`\n    display: contents;\n\n    &:has(.${LECTURE_TILE_CLASSNAME}:hover) .${LECTURE_TILE_CLASSNAME} {\n        ${({ theme }) => LectureTileHoverCss(theme)}\n    }\n`\n\ninterface LectureTilesProps {\n    lecture: Lecture\n    handleLectureTileHover?: (lecture: Lecture) => void\n    handleLectureTileSelect?: (lecture: Lecture) => void\n    deleteLecture?: (lecture: Lecture) => void\n}\n\nconst MemoizedLectureTiles = memo(\n    ({\n        lecture,\n        handleLectureTileHover,\n        handleLectureTileSelect,\n        deleteLecture,\n    }: LectureTilesProps) => {\n        const handleMouseEnter = useCallback(() => {\n            handleLectureTileHover?.(lecture)\n        }, [handleLectureTileHover, lecture])\n\n        const handleMouseClick = useCallback(() => {\n            handleLectureTileSelect?.(lecture)\n        }, [handleLectureTileSelect, lecture])\n\n        const deleteLectureCallback = useCallback(() => {\n            deleteLecture?.(lecture)\n        }, [deleteLecture, lecture])\n\n        return (\n            <LectureTileWrapper\n                lectureId={lecture.id}\n                onPointerEnter={handleMouseEnter}\n                onPointerDown={handleMouseClick}\n                onTouchMove={handleMouseEnter}\n            >\n                {lecture.classes.map((_, classIdx) => (\n                    <LectureTile\n                        key={`${classIdx}-lecture`}\n                        lecture={lecture}\n                        classIdx={classIdx}\n                        deleteLecture={deleteLecture ? deleteLectureCallback : undefined}\n                    />\n                ))}\n            </LectureTileWrapper>\n        )\n    },\n    (prevProps, nextProps) => {\n        return (\n            prevProps.lecture === nextProps.lecture &&\n            prevProps.handleLectureTileHover === nextProps.handleLectureTileHover &&\n            prevProps.handleLectureTileSelect === nextProps.handleLectureTileSelect &&\n            prevProps.deleteLecture === nextProps.deleteLecture\n        )\n    },\n)\n\ninterface CustomTimeTableGridProps {\n    lectures: Lecture[]\n    cellWidth?: string\n    needTimeFilter?: boolean\n    setTimeFilter?: React.Dispatch<React.SetStateAction<TimeBlock | null>>\n    needLectureInteraction?: boolean\n    needLectureDeletable?: boolean\n    deleteLecture?: (lectureId: number) => void\n    hoveredLectures?: Lecture[]\n    setHoveredLectures?: React.Dispatch<React.SetStateAction<Lecture[]>>\n    selectedLecture?: Lecture | null\n    setSelectedLecture?: React.Dispatch<React.SetStateAction<Lecture | null>>\n}\n\nfunction CustomTimeTableGrid({\n    lectures,\n    cellWidth,\n    needTimeFilter = true,\n    setTimeFilter,\n    needLectureInteraction = true,\n    needLectureDeletable = true,\n    deleteLecture,\n    hoveredLectures = [],\n    setHoveredLectures,\n    selectedLecture = null,\n    setSelectedLecture,\n}: CustomTimeTableGridProps) {\n    const { t } = useTranslation()\n\n    const backgroundRef = useRef<HTMLDivElement>(null)\n    const overlayRef = useRef<HTMLDivElement>(null)\n\n    const draggingRef = useRef<boolean>(false)\n    const anchorRef = useRef<number | null>(null)\n\n    const timeRef = useRef<[number, number] | null>(null)\n    const dayRef = useRef<number | null>(null)\n\n    const [ghostLecture, setGhostLecture] = useState<Lecture | null>(null)\n\n    const handlePointerDown = useCallback((x: number, y: number) => {\n        const target = document.elementFromPoint(x, y)\n        if (target == null || !target.classList.contains(\"background-grid-block\")) return\n        const timeIdx = parseInt(target.getAttribute(\"data-time-idx\") || \"\", 10)\n        const dayIdx = parseInt(target.getAttribute(\"data-day-idx\") || \"\", 10)\n        if (timeIdx == null || dayIdx == null) return\n        const startRow = timeIdx + 2\n        overlayRef.current?.style.setProperty(\"--hover-day\", (dayIdx + 1).toString())\n        overlayRef.current?.style.setProperty(\"--hover-start\", startRow.toString())\n        overlayRef.current?.style.setProperty(\"--hover-end\", (startRow + 1).toString())\n        overlayRef.current?.setAttribute(\"data-is-dragging\", \"true\")\n        backgroundRef.current?.setAttribute(\"data-is-dragging\", \"true\")\n        draggingRef.current = true\n\n        timeRef.current = [timeIdx, timeIdx + 1]\n        dayRef.current = dayIdx\n        anchorRef.current = timeIdx\n    }, [])\n\n    const handlePointerMove = useCallback((x: number, y: number) => {\n        const target = document.elementFromPoint(x, y)\n        if (target == null || !target.classList.contains(\"background-grid-block\")) return\n        const timeIdx = parseInt(target.getAttribute(\"data-time-idx\") || \"\", 10)\n        if (timeIdx == null) return\n        const start = anchorRef.current == null ? timeIdx : anchorRef.current\n        const end = timeIdx\n        const minIdx = Math.min(start, end)\n        const maxIdx = Math.max(start, end)\n        const rowStart = minIdx + 2\n        const rowEnd = maxIdx + 3\n        overlayRef.current?.style.setProperty(\"--hover-start\", rowStart.toString())\n        overlayRef.current?.style.setProperty(\"--hover-end\", rowEnd.toString())\n        timeRef.current = [minIdx, maxIdx + 1]\n    }, [])\n\n    const handlePointerLeave = useCallback(() => {\n        overlayRef.current?.setAttribute(\"data-is-dragging\", \"false\")\n        backgroundRef.current?.setAttribute(\"data-is-dragging\", \"false\")\n\n        if (timeRef.current && dayRef.current !== null)\n            setTimeFilter?.({\n                day: dayRef.current,\n                begin: (TIME_BEGIN + timeRef.current[0] * 0.5) * 60,\n                end: (TIME_BEGIN + timeRef.current[1] * 0.5) * 60,\n            })\n\n        draggingRef.current = false\n        timeRef.current = null\n        dayRef.current = null\n        anchorRef.current = null\n    }, [setTimeFilter])\n\n    const handleMouseDown = useCallback(\n        (e: React.PointerEvent<HTMLDivElement>) => {\n            if (draggingRef.current || !needTimeFilter) return\n            handlePointerDown(e.clientX, e.clientY)\n        },\n        [needTimeFilter],\n    )\n\n    const handleMouseMove = useCallback(\n        (e: React.PointerEvent<HTMLDivElement>) => {\n            if (!draggingRef.current || anchorRef.current === null) return\n            handlePointerMove(e.clientX, e.clientY)\n        },\n        [handlePointerMove],\n    )\n\n    const handleTouchMove = useCallback(\n        (e: React.TouchEvent<HTMLDivElement>) => {\n            if (!draggingRef.current || anchorRef.current === null) return\n            const touch = e.touches[0]\n            if (touch == null) return\n            handlePointerMove(touch.clientX, touch.clientY)\n        },\n        [handlePointerMove],\n    )\n\n    const handleLectureTileHoverCallBack = useCallback(\n        (lecture: Lecture) => {\n            if (!needLectureInteraction) return\n\n            setHoveredLectures?.([lecture])\n        },\n        [setHoveredLectures, needLectureInteraction],\n    )\n\n    const handleLectureTileSelectCallback = useCallback(\n        (lecture: Lecture) => {\n            if (!needLectureInteraction) return\n\n            setSelectedLecture?.((prev) => {\n                return prev?.id === lecture.id ? null : lecture\n            })\n        },\n        [setSelectedLecture, needLectureInteraction],\n    )\n\n    const clearHoveredLecturesCallback = useCallback(() => {\n        setHoveredLectures?.([])\n        overlayRef.current?.setAttribute(\"data-is-hovering\", \"false\")\n    }, [setHoveredLectures])\n\n    const deleteLectureCallback = useCallback(\n        (lecture: Lecture) => {\n            if (needLectureInteraction && needLectureDeletable)\n                deleteLecture?.(lecture.id)\n        },\n        [needLectureDeletable, deleteLecture],\n    )\n\n    useEffect(() => {\n        if (!needLectureInteraction) return\n\n        const hoveredIds = hoveredLectures.map((lec) => lec.id).join(\" \")\n\n        overlayRef.current?.setAttribute(\"data-hovered-lectures\", hoveredIds)\n    }, [hoveredLectures, needLectureInteraction, lectures])\n\n    useEffect(() => {\n        if (!needLectureInteraction) return\n\n        const selectedId = selectedLecture ? selectedLecture.id.toString() : \"\"\n\n        if (selectedId !== \"\")\n            overlayRef.current?.setAttribute(\"data-selected-lecture\", selectedId)\n        else overlayRef.current?.setAttribute(\"data-selected-lecture\", \"\")\n    }, [selectedLecture, needLectureInteraction, lectures])\n\n    useEffect(() => {\n        if (!needLectureInteraction) return\n\n        if (\n            hoveredLectures[0] &&\n            !lectures.some((lec) => lec.id === hoveredLectures[0]?.id)\n        ) {\n            setGhostLecture(hoveredLectures[0])\n        } else if (\n            selectedLecture &&\n            !lectures.some((lec) => lec.id === selectedLecture.id)\n        ) {\n            setGhostLecture(selectedLecture)\n        } else {\n            setGhostLecture(null)\n        }\n    }, [hoveredLectures, selectedLecture, lectures])\n\n    return (\n        <FlexWrapper\n            direction=\"row\"\n            gap={ROW_GAP * 2}\n            align=\"stretch\"\n            justify=\"stretch\"\n            flex=\"1 1 auto\"\n            style={{ userSelect: \"none\" }}\n        >\n            <FlexWrapper\n                direction=\"column\"\n                gap={0}\n                align=\"stretch\"\n                padding={`${HEADER_HEIGHT * HEADER_CALIBRATION}px 0 0 0`}\n            >\n                <FlexWrapper\n                    direction=\"column\"\n                    gap={0}\n                    align=\"end\"\n                    justify=\"space-between\"\n                    flex=\"1 1 auto\"\n                    style={{ fontSize: \"8px\" }}\n                >\n                    {TIMES.map((time, idx) => (\n                        <Typography key={idx} color=\"Text.dark\">\n                            {time}\n                        </Typography>\n                    ))}\n                </FlexWrapper>\n            </FlexWrapper>\n            <FlexWrapper\n                direction=\"column\"\n                gap={0}\n                align=\"stretch\"\n                justify=\"stretch\"\n                flex=\"1 1 auto\"\n                padding={`0 0 ${HEADER_HEIGHT * (1 - HEADER_CALIBRATION)}px 0`}\n                className=\"timetable-grid-wrapper\"\n            >\n                <BackgroundGrid\n                    columns={`repeat(${DAYS.length}, ${cellWidth || \"1fr\"})`}\n                    rows={`${HEADER_HEIGHT}px repeat(${SLOT_COUNT}, 1fr)`}\n                    flow=\"column\"\n                    gap={`0px ${ROW_GAP}px`}\n                    alignItems=\"stretch\"\n                    justifyItems=\"stretch\"\n                    ref={backgroundRef}\n                    data-is-dragging=\"false\"\n                    data-need-time-filter={needTimeFilter}\n                    {...(needTimeFilter\n                        ? {\n                              onPointerDown: handleMouseDown,\n                              onPointerMove: handleMouseMove,\n                              onPointerUp: handlePointerLeave,\n                              onPointerLeave: handlePointerLeave,\n                              onTouchMove: handleTouchMove,\n                              onTouchEnd: handlePointerLeave,\n                          }\n                        : {})}\n                >\n                    {DAYS.map((day, dayIdx) => (\n                        <Fragment key={day}>\n                            <FlexWrapper direction=\"column\" gap={0} align=\"center\">\n                                <Typography type=\"Small\" color=\"Text.dark\">\n                                    {t(`common.days.${day}`)}\n                                </Typography>\n                            </FlexWrapper>\n\n                            {Array.from({ length: SLOT_COUNT }).map((_, timeIdx) => (\n                                <MemoizedBackgroundGridBlock\n                                    key={`${day}-${timeIdx}-memo`}\n                                    dayIdx={dayIdx}\n                                    timeIdx={timeIdx}\n                                    className={[\n                                        \"background-grid-block\",\n                                        timeIdx % 2 === 0 ? \"hour\" : \"half\",\n                                        timeIdx === SLOT_COUNT - 1 ? \"last\" : \"\",\n                                        timeIdx % 2 == 0 &&\n                                        (TIMES24[Math.floor(timeIdx / 2)] || 0) % 6 === 0\n                                            ? \"bold\"\n                                            : \"\",\n                                    ].join(\" \")}\n                                    data-day-idx={dayIdx}\n                                    data-time-idx={timeIdx}\n                                />\n                            ))}\n                        </Fragment>\n                    ))}\n                </BackgroundGrid>\n                <OverlayGrid\n                    columns={`repeat(${DAYS.length}, ${cellWidth || \"1fr\"})`}\n                    rows={`${HEADER_HEIGHT}px repeat(${SLOT_COUNT}, 1fr)`}\n                    flow=\"column\"\n                    gap={`${LINE_HEIGHT}px ${ROW_GAP}px`}\n                    alignItems=\"stretch\"\n                    justifyItems=\"stretch\"\n                    padding={`0 0 ${HEADER_HEIGHT * (1 - HEADER_CALIBRATION)}px 0`}\n                    ref={overlayRef}\n                    data-interaction={needLectureInteraction}\n                    data-lecture-deletable={needLectureDeletable}\n                    data-is-dragging={false}\n                    data-hovered-lectures=\"\"\n                    data-selected-lecture=\"\"\n                    onPointerLeave={clearHoveredLecturesCallback}\n                    onTouchEnd={clearHoveredLecturesCallback}\n                >\n                    {needTimeFilter && <HoverTile />}\n                    {lectures.map((lecture, lectureIdx) => (\n                        <MemoizedLectureTiles\n                            key={`${lecture.id}-lecture-tile-${lectureIdx}`}\n                            lecture={lecture}\n                            deleteLecture={deleteLectureCallback}\n                            handleLectureTileHover={handleLectureTileHoverCallBack}\n                            handleLectureTileSelect={handleLectureTileSelectCallback}\n                        />\n                    ))}\n                    {ghostLecture && <MemoizedLectureTiles lecture={ghostLecture} />}\n                </OverlayGrid>\n            </FlexWrapper>\n        </FlexWrapper>\n    )\n}\n\nexport default memo(CustomTimeTableGrid, (prevProps, nextProps) => {\n    return (\n        prevProps.lectures === nextProps.lectures &&\n        prevProps.cellWidth === nextProps.cellWidth &&\n        prevProps.needTimeFilter === nextProps.needTimeFilter &&\n        prevProps.needLectureInteraction === nextProps.needLectureInteraction &&\n        prevProps.needLectureDeletable === nextProps.needLectureDeletable &&\n        prevProps.deleteLecture === nextProps.deleteLecture &&\n        prevProps.hoveredLectures === nextProps.hoveredLectures &&\n        prevProps.setHoveredLectures === nextProps.setHoveredLectures &&\n        prevProps.selectedLecture === nextProps.selectedLecture &&\n        prevProps.setSelectedLecture === nextProps.setSelectedLecture\n    )\n})\n"],"names":["GridWrapper","styled","columns","rows","gap","alignItems","justifyItems","alignContents","justifyContents","flow","padding","flattenTimeTableColors","timeTable","HoverTileWrapper","FlexWrapper","HoverTileInner","HoverTile","jsx","MemoizedHoverTile","memo","LECTURE_TILE_CLASSNAME","LectureTileHoverCss","theme","css","LectureTileWrapper","col","rowStart","rowEnd","LectureTileInner","courseId","flat","lectureId","LectureDeleteWrapper","LectureTile","lecture","classIdx","deleteLecture","cls","jsxs","ThemeProvider","lightTheme","Typography","professor","IconButton","Icon","Close","MemoizedLectureTile","prevProps","nextProps","TIME_BEGIN","TIME_END","TIMES24","_","i","TIMES","time","SLOT_COUNT","DAYS","HEADER_HEIGHT","HEADER_CALIBRATION","ROW_GAP","LINE_HEIGHT","BackgroundGrid","OverlayGrid","BackgroundGridBlock","MemoizedBackgroundGridBlock","dayIdx","timeIdx","rest","MemoizedLectureTiles","handleLectureTileHover","handleLectureTileSelect","handleMouseEnter","useCallback","handleMouseClick","deleteLectureCallback","CustomTimeTableGrid","lectures","cellWidth","needTimeFilter","setTimeFilter","needLectureInteraction","needLectureDeletable","hoveredLectures","setHoveredLectures","selectedLecture","setSelectedLecture","t","useTranslation","backgroundRef","useRef","overlayRef","draggingRef","anchorRef","timeRef","dayRef","ghostLecture","setGhostLecture","useState","handlePointerDown","x","y","target","startRow","handlePointerMove","start","end","minIdx","maxIdx","handlePointerLeave","handleMouseDown","e","handleMouseMove","handleTouchMove","touch","handleLectureTileHoverCallBack","handleLectureTileSelectCallback","prev","clearHoveredLecturesCallback","useEffect","hoveredIds","lec","selectedId","idx","day","Fragment","lectureIdx","CustomTimeTableGrid$1"],"mappings":"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"}
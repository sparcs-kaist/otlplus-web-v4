import{C,D,E as I,F as T}from"./useIsDevice-fxYlsLOH.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};a.SENTRY_RELEASE={id:"e154d13e7abdedd30b9869d744b7124d31e77219"};var e=new a.Error().stack;e&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[e]="c745658b-2e06-4e36-8a31-f7ee3c29266e",a._sentryDebugIdIdentifier="sentry-dbid-c745658b-2e06-4e36-8a31-f7ee3c29266e")}catch{}})();function _(a){return{onFetch:(e,r)=>{const s=e.options,g=e.fetchOptions?.meta?.fetchMore?.direction,u=e.state.data?.pages||[],c=e.state.data?.pageParams||[];let i={pages:[],pageParams:[]},l=0;const f=async()=>{let P=!1;const F=n=>{T(n,()=>e.signal,()=>P=!0)},v=C(e.options,e.fetchOptions),y=async(n,t,o)=>{if(P)return Promise.reject();if(t==null&&n.pages.length)return Promise.resolve(n);const q=(()=>{const b={client:e.client,queryKey:e.queryKey,pageParam:t,direction:o?"backward":"forward",meta:e.options.meta};return F(b),b})(),E=await v(q),{maxPages:m}=e.options,h=o?D:I;return{pages:h(n.pages,E,m),pageParams:h(n.pageParams,t,m)}};if(g&&u.length){const n=g==="backward",t=n?w:d,o={pages:u,pageParams:c},p=t(s,o);i=await y(o,p,n)}else{const n=a??u.length;do{const t=l===0?c[0]??s.initialPageParam:d(s,i);if(l>0&&t==null)break;i=await y(i,t),l++}while(l<n)}return i};e.options.persister?e.fetchFn=()=>e.options.persister?.(f,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=f}}}function d(a,{pages:e,pageParams:r}){const s=e.length-1;return e.length>0?a.getNextPageParam(e[s],e,r[s],r):void 0}function w(a,{pages:e,pageParams:r}){return e.length>0?a.getPreviousPageParam?.(e[0],e,r[0],r):void 0}function k(a,e){return e?d(a,e)!=null:!1}function K(a,e){return!e||!a.getPreviousPageParam?!1:w(a,e)!=null}export{k as a,K as h,_ as i};
//# sourceMappingURL=infiniteQueryBehavior-BDX4Cyp9.js.map

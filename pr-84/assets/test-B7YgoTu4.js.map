{"version":3,"file":"test-B7YgoTu4.js","sources":["../../../app/routes/test.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\"\n\nimport styled from \"@emotion/styled\"\n\nimport CustomTimeTableGrid from \"@/common/components/timetable/CustomTimeTableGrid\"\nimport { WeekdayEnum } from \"@/common/enum/weekdayEnum\"\nimport FlexWrapper from \"@/common/primitives/FlexWrapper\"\nimport Typography from \"@/common/primitives/Typography\"\nimport { type Lecture } from \"@/common/schemas/lecture\"\nimport type { TimeBlock } from \"@/common/schemas/timeblock\"\nimport { useAPI } from \"@/utils/api/useAPI\"\nimport { formatTimeAreaToString } from \"@/utils/timetable/formatTimeblockToString\"\nimport useUserStore from \"@/utils/zustand/useUserStore\"\n\nconst Box = styled(FlexWrapper)`\n    width: 600px;\n    height: 800px;\n    background: ${({ theme }) => theme.colors.Background.Section};\n`\n\nfunction Test() {\n    const { status } = useUserStore()\n    const { query, setParams } = useAPI(\"GET\", `/timetables/my-timetable`, {\n        enabled: status === \"success\",\n    })\n\n    const semesterRef = useRef<number>(3)\n\n    const [hovered, setHovered] = useState<Lecture[]>([])\n    const [selected, setSelected] = useState<Lecture | null>(null)\n\n    const [timeFilter, setTimeFilter] = useState<TimeBlock | null>(null)\n\n    function tick() {\n        setParams({ year: 2025, semester: semesterRef.current == 1 ? 3 : 1 })\n        semesterRef.current = semesterRef.current == 1 ? 3 : 1\n    }\n\n    function deleteLecture(lectureId: number) {\n        console.log(\"Delete lecture:\", lectureId)\n    }\n\n    useEffect(() => {\n        //console.log(hovered)\n    }, [hovered])\n\n    useEffect(() => {\n        if (status === \"success\") {\n            tick()\n            // const interval = setInterval(tick, 10000)\n            // return () => clearInterval(interval)\n        }\n    }, [status])\n\n    useEffect(() => {\n        console.log(\"Time filter changed:\", timeFilter)\n    }, [timeFilter])\n\n    return (\n        <FlexWrapper\n            direction=\"row\"\n            gap={0}\n            align=\"stretch\"\n            justify=\"center\"\n            flex=\"1 1 auto\"\n        >\n            <FlexWrapper direction=\"row\" gap={0} justify=\"center\" align=\"stretch\">\n                <FlexWrapper\n                    direction=\"column\"\n                    gap={0}\n                    style={{ width: 200 }}\n                    align=\"flex-start\"\n                    padding=\"100px 0\"\n                >\n                    <FlexWrapper\n                        direction=\"column\"\n                        gap={0}\n                        align=\"flex-start\"\n                        padding=\"0px 16px\"\n                    >\n                        <Typography type=\"Big\">Hovered Lectures</Typography>\n                        <Typography type=\"Normal\" color=\"Text.default\">\n                            {hovered[0]?.name || \"\"}\n                        </Typography>\n                    </FlexWrapper>\n\n                    <FlexWrapper\n                        direction=\"column\"\n                        gap={0}\n                        align=\"flex-start\"\n                        padding=\"0px 16px\"\n                    >\n                        <Typography type=\"Big\">Selected Lectures</Typography>\n                        <Typography type=\"Normal\" color=\"Text.default\">\n                            {selected?.name || \"\"}\n                        </Typography>\n                    </FlexWrapper>\n\n                    <FlexWrapper\n                        direction=\"column\"\n                        gap={0}\n                        align=\"flex-start\"\n                        padding=\"0px 16px\"\n                    >\n                        <Typography type=\"Big\">Time Filter</Typography>\n                        <Typography type=\"Normal\" color=\"Text.default\">\n                            {timeFilter ? formatTimeAreaToString(timeFilter) : \"\"}\n                        </Typography>\n                    </FlexWrapper>\n                </FlexWrapper>\n                <FlexWrapper\n                    direction=\"column\"\n                    gap={0}\n                    align=\"center\"\n                    justify=\"center\"\n                    flex=\"1 1 auto\"\n                >\n                    <Box direction=\"column\" gap={0} align=\"stretch\">\n                        <CustomTimeTableGrid\n                            lectures={query.data?.lectures || []}\n                            hoveredLectures={hovered}\n                            selectedLectures={selected}\n                            setHoveredLectures={setHovered}\n                            setSelectedLectures={setSelected}\n                            deleteLecture={deleteLecture}\n                            setTimeFilter={setTimeFilter}\n                        />\n                    </Box>\n                </FlexWrapper>\n            </FlexWrapper>\n        </FlexWrapper>\n    )\n}\n\nexport default Test\n"],"names":["Box","styled","FlexWrapper","theme","colors","Background","Section","Test","status","useUserStore","query","setParams","useAPI","enabled","semesterRef","useRef","hovered","setHovered","useState","selected","setSelected","timeFilter","setTimeFilter","tick","year","semester","current","deleteLecture","lectureId","console","log","useEffect","jsx","direction","gap","align","justify","flex","children","jsxs","style","width","padding","Typography","type","color","name","formatTimeAreaToString","CustomTimeTableGrid","lectures","data","hoveredLectures","selectedLectures","setHoveredLectures","setSelectedLectures","test","_UNSAFE_withComponentProps"],"mappings":"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"}
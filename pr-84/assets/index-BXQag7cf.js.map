{"version":3,"file":"index-BXQag7cf.js","sources":["../../../app/utils/timetable/checkAnyOver24.tsx","../../../app/utils/timetable/renderGrid.tsx","../../../app/common/components/LectureTile.tsx","../../../app/utils/timetable/renderLectureTile.tsx","../../../app/utils/timetable/renderTargetArea.tsx","../../../app/features/main/components/CustomTimeTableGrid.tsx","../../../app/features/main/sections/TimeTableSection/index.tsx"],"sourcesContent":["import type PersonalBlock from \"@/common/interface/Personal\"\nimport type { Lecture } from \"@/common/schemas/lecture\"\nimport type { TimeBlock } from \"@/common/schemas/timeblock\"\n\nexport function checkAnyOver24(schedule: Lecture[] | PersonalBlock[]): boolean {\n    schedule.forEach((val, _) => {\n        let timeBlocks: TimeBlock[] = []\n        if (!(\"timeBlocks\" in val)) {\n            timeBlocks = val.classes\n        } else {\n            timeBlocks = val.timeBlocks\n        }\n        timeBlocks.forEach((t, __) => {\n            if (t.end > 24) {\n                return true\n            }\n        })\n    })\n    return false\n}\n","import type { JSX } from \"react\"\n\nconst renderGrid = (\n    n: number,\n    m: number,\n    cellWidth: number,\n    cellHeight: number,\n    colPadding: number,\n    placeholderIndex: number[],\n    placeholderWidth: number,\n    pageStart: number,\n) => {\n    const grid: JSX.Element[] = []\n    const lastRowIndex = n - 1\n    const lastColIndex = m - 1\n\n    for (let i = 0; i < n; i++) {\n        const row: JSX.Element[] = []\n        const isEvenRow = i % 2 === 0\n        const isLastRow = i === lastRowIndex\n\n        for (let j = 0; j < m; j++) {\n            const isShown = !placeholderIndex.includes(j + pageStart)\n            const isLastCol = j === lastColIndex\n\n            row.push(\n                <div\n                    key={j}\n                    style={{\n                        width: isShown ? cellWidth : placeholderWidth,\n                        height: cellHeight,\n                        display: \"inline-block\",\n                        textAlign: \"center\",\n                        borderTop: isShown\n                            ? isEvenRow\n                                ? \"1px solid rgba(232, 232, 232, 1)\"\n                                : \"1px dashed rgba(232, 232, 232, 1)\"\n                            : undefined,\n                        borderBottom:\n                            isShown && isLastRow\n                                ? \"1px solid rgba(232, 232, 232, 1)\"\n                                : undefined,\n                        marginRight: isLastCol ? undefined : colPadding,\n                    }}\n                />,\n            )\n        }\n        grid.push(\n            <div key={i} style={{ display: \"flex\" }}>\n                {row}\n            </div>,\n        )\n    }\n    return grid\n}\n\nexport default renderGrid\n","import type { CSSProperties } from \"react\"\nimport { memo, useMemo } from \"react\"\n\nimport styled from \"@emotion/styled\"\nimport CloseIcon from \"@mui/icons-material/Close\"\n\nimport Icon from \"@/common/primitives/Icon\"\nimport type { ClassTime, Lecture } from \"@/common/schemas/lecture\"\n\nconst flattenTimeTableColors = (timeTable: any): Array<CSSProperties[\"color\"]> => {\n    return [\n        timeTable?.red?.[1],\n        timeTable?.red?.[2],\n        timeTable?.orange?.[1],\n        timeTable?.orange?.[2],\n        timeTable?.yellow?.[1],\n        timeTable?.yellow?.[2],\n        timeTable?.green?.[1],\n        timeTable?.green?.[2],\n        timeTable?.green?.[3],\n        timeTable?.blue?.[1],\n        timeTable?.blue?.[2],\n        timeTable?.purple?.[1],\n        timeTable?.purple?.[2],\n        timeTable?.pink?.[1],\n        timeTable?.pink?.[2],\n    ].map((c) => c ?? \"#CCCCCC\")\n}\n\nconst TileWrapper = styled.div<{\n    course_id: number\n    isHighlighted: boolean\n    isOverlapped: boolean\n    hoverSelectBanned: boolean\n}>`\n    display: flex;\n    flex-direction: column;\n    padding: 4px 6px;\n    width: var(--tile-width);\n    height: var(--tile-height);\n    margin-bottom: 2px;\n    margin-top: 2px;\n    background-color: ${({ theme, course_id, isHighlighted, isOverlapped }) =>\n        isOverlapped\n            ? theme.colors.Text.default\n            : isHighlighted\n              ? theme.colors.Highlight.default\n              : (() => {\n                    const flat = flattenTimeTableColors(\n                        theme.colors?.Tile?.TimeTable?.default,\n                    )\n                    return flat[course_id % flat.length]\n                })()};\n    border-radius: 2px;\n    overflow: hidden;\n    overflow-wrap: break-word;\n    gap: 1px;\n    transition: box-shadow 0.1s ease-in-out;\n    cursor: ${({ hoverSelectBanned }) => (hoverSelectBanned ? \"default\" : \"pointer\")};\n`\n\nconst TitleWrapper = styled.span<{ isHighlighted: boolean; isOverlapped: boolean }>`\n    width: 100%;\n    font-size: ${({ theme }) => theme.fonts.Small.fontSize}px;\n    line-height: ${({ theme }) => `${theme.fonts.Small.lineHeight}px`};\n    font-weight: ${({ theme }) => theme.fonts.Small.fontWeight};\n    color: ${({ theme, isHighlighted, isOverlapped }) =>\n        isHighlighted || isOverlapped ? \"white\" : theme.colors.Text.default};\n    display: inline-block;\n    word-wrap: break-word;\n    word-break: keep-all;\n    white-space: normal;\n`\n\nconst DescWrapper = styled.span<{ isHighlighted: boolean; isOverlapped: boolean }>`\n    width: 100%;\n    font-size: ${({ theme }) => theme.fonts.Small.fontSize}px;\n    line-height: ${({ theme }) => `${theme.fonts.Small.lineHeight}px`};\n    font-weight: ${({ theme }) => theme.fonts.Small.fontWeight};\n    color: ${({ isHighlighted, isOverlapped }) =>\n        isHighlighted || isOverlapped\n            ? \"rgba(255, 255, 255, 0.6)\"\n            : \"rgba(102, 102, 102, 0.6)\"};\n    word-wrap: break-word;\n    display: inline-block;\n    word-break: break-word;\n    white-space: normal;\n`\n\nconst RemoveButton = styled.div`\n    position: absolute;\n    top: 6px;\n    right: 4px;\n    cursor: pointer;\n`\n\nconst LectureTile: React.FC<{\n    lecture: Lecture\n    timeBlock: ClassTime\n    cellWidth: number\n    cellHeight: number\n    isSelected: boolean | null\n    isHovered: boolean | null\n    hoverSelectBanned: boolean\n    isOverlapped?: boolean\n    removeFunction?: (lectureId: number) => void\n}> = ({\n    lecture,\n    timeBlock,\n    cellWidth,\n    cellHeight,\n    isSelected = false,\n    isHovered = false,\n    hoverSelectBanned,\n    isOverlapped = false,\n    removeFunction,\n}) => {\n    const isHighlighted = isSelected || isHovered || false\n    const duration = (timeBlock.end - timeBlock.begin) / 30\n\n    const cssVariables = useMemo(\n        () =>\n            ({\n                \"--tile-width\": `${cellWidth}px`,\n                \"--tile-height\": `${duration * cellHeight - 4}px`,\n            }) as CSSProperties,\n        [cellWidth, cellHeight, duration],\n    )\n\n    return (\n        <TileWrapper\n            style={cssVariables}\n            course_id={lecture.courseId}\n            isHighlighted={isHighlighted}\n            isOverlapped={isOverlapped}\n            hoverSelectBanned={hoverSelectBanned}\n        >\n            {removeFunction !== undefined && (isSelected || isHovered) && (\n                <RemoveButton>\n                    <Icon\n                        size={13}\n                        onClick={(e) => {\n                            e.stopPropagation()\n                            removeFunction(lecture.id)\n                        }}\n                        color=\"rgba(255, 255, 255, 0.6)\"\n                    >\n                        <CloseIcon />\n                    </Icon>\n                </RemoveButton>\n            )}\n            <TitleWrapper isHighlighted={isHighlighted} isOverlapped={isOverlapped}>\n                {lecture.name + lecture.subtitle}\n            </TitleWrapper>\n            <DescWrapper isHighlighted={isHighlighted} isOverlapped={isOverlapped}>\n                {lecture.professors.map((prof) => prof.name).join(\", \")}\n            </DescWrapper>\n            <DescWrapper isHighlighted={isHighlighted} isOverlapped={isOverlapped}>\n                ({timeBlock.buildingCode}) {timeBlock.roomName}\n            </DescWrapper>\n        </TileWrapper>\n    )\n}\n\ntype LectureTileMemoProps = React.ComponentProps<typeof LectureTile>\n\nconst arePropsEqual = (\n    prevProps: Readonly<LectureTileMemoProps>,\n    nextProps: Readonly<LectureTileMemoProps>,\n) => {\n    if (\n        prevProps.cellWidth !== nextProps.cellWidth ||\n        prevProps.cellHeight !== nextProps.cellHeight ||\n        prevProps.isSelected !== nextProps.isSelected ||\n        prevProps.isHovered !== nextProps.isHovered ||\n        prevProps.hoverSelectBanned !== nextProps.hoverSelectBanned ||\n        prevProps.isOverlapped !== nextProps.isOverlapped ||\n        prevProps.removeFunction !== nextProps.removeFunction\n    ) {\n        return false\n    }\n\n    if (\n        prevProps.lecture.courseId !== nextProps.lecture.courseId ||\n        prevProps.lecture.name !== nextProps.lecture.name\n    ) {\n        return false\n    }\n\n    if (prevProps.lecture.professors.length !== nextProps.lecture.professors.length) {\n        return false\n    }\n    if (\n        !prevProps.lecture.professors.every(\n            (prevProf, i) => prevProf.name === nextProps.lecture.professors[i]?.name,\n        )\n    ) {\n        return false\n    }\n\n    if (\n        prevProps.timeBlock.begin !== nextProps.timeBlock.begin ||\n        prevProps.timeBlock.end !== nextProps.timeBlock.end ||\n        prevProps.timeBlock.buildingCode !== nextProps.timeBlock.buildingCode ||\n        prevProps.timeBlock.roomName !== nextProps.timeBlock.roomName\n    ) {\n        return false\n    }\n\n    return true\n}\n\nexport default memo(LectureTile, arePropsEqual)\n","import type { JSX } from \"react\"\n\nimport LectureTile from \"@/common/components/LectureTile\"\nimport { WeekdayEnum } from \"@/common/enum/weekdayEnum\"\nimport type { ClassTime, Lecture } from \"@/common/schemas/lecture\"\nimport checkOverlap from \"@/utils/timetable/checkOverlap\"\n\nconst renderLectureTile = (\n    timetableLectures: Lecture[],\n    cellWidth: number,\n    cellHeight: number,\n    colPadding: number,\n    selected: Lecture | null,\n    setSelected: React.Dispatch<React.SetStateAction<Lecture | null>>,\n    hover: Lecture[] | null,\n    setHover: React.Dispatch<React.SetStateAction<Lecture[] | null>>,\n    dragging: boolean,\n    removeFunction?: (lectureId: number) => void,\n    hoverSelectBanned: boolean = false,\n) => {\n    const rectangles: JSX.Element[] = []\n\n    const lectureSummary = timetableLectures\n        .concat(selected ? [selected] : [])\n        .concat(\n            hover\n                ? selected\n                    ? hover.filter((lec) => lec.id !== selected.id)\n                    : hover\n                : [],\n        )\n\n    // Pre-compute overlap map once: O(n²) total instead of O(n²) per lecture\n    const overlapMap = new Map<number, boolean>()\n    for (const lecture of lectureSummary) {\n        if (overlapMap.has(lecture.id)) continue\n        const isOverlapped = lectureSummary.some(\n            (other) =>\n                other.id !== lecture.id && checkOverlap(other.classes, lecture.classes),\n        )\n        overlapMap.set(lecture.id, isOverlapped)\n    }\n\n    for (let i = 0; i < lectureSummary.length; i++) {\n        const lecture: Lecture = lectureSummary[i] as Lecture\n        const timeBlocks: ClassTime[] = lecture.classes\n        const isSelected = selected === lecture\n        const isHovered = hover !== null && hover.some((lec) => lec.id === lecture.id)\n        const isOverlapped = overlapMap.get(lecture.id) ?? false\n\n        for (let j = 0; j < timeBlocks.length; j++) {\n            const timeBlock = timeBlocks[j]\n            if (!timeBlock) continue\n            const weekDay = timeBlock.day as unknown as WeekdayEnum\n            const left = weekDay * (cellWidth + colPadding)\n            const startIndex = Math.floor(timeBlock.begin / 30) - 16 // 8시부터 시작\n            const top = startIndex * cellHeight\n\n            rectangles.push(\n                <div\n                    style={{\n                        position: \"absolute\",\n                        left: left,\n                        top: top,\n                    }}\n                    key={`${lecture.id}-${j}-${i}`}\n                    onClick={(event: React.MouseEvent) => {\n                        event.stopPropagation()\n                        if (lecture === selected) {\n                            setSelected(null)\n                        } else {\n                            if (lecture !== undefined) {\n                                setSelected(lecture)\n                            }\n                        }\n                    }}\n                    onTouchStart={(event: React.TouchEvent) => {\n                        // Stop propagation to prevent grid's touch handler\n                        event.stopPropagation()\n                    }}\n                    onTouchEnd={(event: React.TouchEvent) => {\n                        event.stopPropagation()\n                        // Handle as click on touch end\n                        if (lecture === selected) {\n                            setSelected(null)\n                        } else {\n                            if (lecture !== undefined) {\n                                setSelected(lecture)\n                            }\n                        }\n                    }}\n                    onMouseEnter={() => {\n                        if (!dragging && lecture !== undefined) {\n                            setHover([lecture])\n                        }\n                    }}\n                    onMouseLeave={() => {\n                        setHover(null)\n                    }}\n                >\n                    <LectureTile\n                        lecture={lecture}\n                        timeBlock={timeBlock}\n                        cellWidth={cellWidth}\n                        isSelected={!hoverSelectBanned && isSelected}\n                        isHovered={!hoverSelectBanned && isHovered}\n                        hoverSelectBanned={hoverSelectBanned}\n                        isOverlapped={isOverlapped}\n                        cellHeight={cellHeight}\n                        removeFunction={\n                            timetableLectures.includes(lecture)\n                                ? removeFunction\n                                : undefined\n                        }\n                    />\n                </div>,\n            )\n        }\n    }\n\n    return rectangles\n}\n\nexport default renderLectureTile\n","import { type ReactElement } from \"react\"\n\nconst calcLeft = (\n    index: number,\n    placeholderIndex: number[],\n    cellWidth: number,\n    placeholderWidth: number,\n    pageStart: number,\n) => {\n    let res: number = 0\n\n    for (let i = 0; i < index; i++) {\n        if (placeholderIndex.includes(i + pageStart)) {\n            res += placeholderWidth\n        } else {\n            res += cellWidth\n        }\n    }\n\n    return res\n}\n\n// 표시할 영역에 대한 정보를 전달 받아 디자인에 맞게 표시\nconst renderTargetArea = (\n    idx: boolean = true,\n    targetArea: Map<number, boolean[]>,\n    color: string,\n    cellHeight: number,\n    cellWidth: number,\n    rowPadding: number,\n    colPadding: number,\n    placeholderIndex: number[],\n    placeholderWidth: number,\n    pageStart: number,\n) => {\n    const rectangles: ReactElement[] = []\n    targetArea.forEach((value, key) => {\n        if (!placeholderIndex.includes(key + pageStart)) {\n            let startIndex: number | null = null\n            value.forEach((val, index) => {\n                if (val == idx) {\n                    // true인 구간 시작\n                    if (startIndex === null) {\n                        startIndex = index\n                    }\n                } else {\n                    if (startIndex !== null) {\n                        const top = startIndex * cellHeight + rowPadding\n                        const left =\n                            calcLeft(\n                                key,\n                                placeholderIndex,\n                                cellWidth,\n                                placeholderWidth,\n                                pageStart,\n                            ) +\n                            colPadding * key\n                        const height = (index - startIndex) * cellHeight - rowPadding * 2\n                        const width = cellWidth\n\n                        rectangles.push(\n                            <div\n                                key={`${key}-${startIndex}`}\n                                style={{\n                                    position: \"absolute\",\n                                    left: left,\n                                    top: top,\n                                    width: width,\n                                    height: height,\n                                    backgroundColor: color,\n                                    pointerEvents: \"none\",\n                                    borderRadius: \"2px\",\n                                    zIndex: idx ? 0 : 1,\n                                }}\n                            />,\n                        )\n                        startIndex = null\n                    }\n                }\n            })\n\n            if (startIndex !== null) {\n                const top = startIndex * cellHeight + rowPadding\n                const left =\n                    calcLeft(\n                        key,\n                        placeholderIndex,\n                        cellWidth,\n                        placeholderWidth,\n                        pageStart,\n                    ) +\n                    colPadding * key\n                const height = (value.length - startIndex) * cellHeight - rowPadding * 2\n                const width = cellWidth\n\n                rectangles.push(\n                    <div\n                        key={`${key}-${startIndex}`}\n                        style={{\n                            position: \"absolute\",\n                            left: left,\n                            top: top,\n                            width: width,\n                            height: height,\n                            zIndex: idx ? 0 : 1,\n                            backgroundColor: color,\n                            pointerEvents: \"none\",\n                            borderRadius: \"2px\",\n                        }}\n                    />,\n                )\n            }\n        }\n    })\n\n    return rectangles\n}\n\nexport default renderTargetArea\n","import React, { useCallback, useMemo, useRef, useState } from \"react\"\n\nimport styled from \"@emotion/styled\"\nimport { useTranslation } from \"react-i18next\"\n\nimport FlexWrapper from \"@/common/primitives/FlexWrapper\"\nimport type { Lecture } from \"@/common/schemas/lecture\"\nimport { checkAnyOver24 } from \"@/utils/timetable/checkAnyOver24\"\nimport renderGrid from \"@/utils/timetable/renderGrid\"\nimport renderLectureTile from \"@/utils/timetable/renderLectureTile\"\nimport renderTargetArea from \"@/utils/timetable/renderTargetArea\"\n\ninterface GridProps {\n    cellWidth?: number\n    lectureSummary: Lecture[]\n    hover: Lecture[] | null\n    setHover: React.Dispatch<React.SetStateAction<Lecture[] | null>>\n    selected: Lecture | null\n    setSelected: React.Dispatch<React.SetStateAction<Lecture | null>>\n}\n\nconst FULL_HEIGHT = 926.5\nconst ROWS = 32\n\nconst SectionWrapper = styled.div`\n    display: flex;\n    flex-direction: row;\n    gap: 5px;\n    align-items: center;\n    height: fit-content;\n`\n\nconst TimeWrapper = styled.div`\n    padding-top: 15px;\n    display: flex;\n    flex-grow: 1;\n    flex-direction: column;\n    height: 100%;\n    justify-content: space-evenly;\n    gap: calc(var(--cell-height) * 2 - 11px);\n    font-size: 8px;\n    line-height: 11px;\n    color: ${({ theme }) => theme.colors.Text.default};\n`\n\nconst DateWrapper = styled.div`\n    width: var(--cell-width);\n    align-items: center;\n    font-size: 12px;\n    line-height: 15px;\n    padding-bottom: 5px;\n    text-align: center;\n    color: ${({ theme }) => theme.colors.Text.default};\n`\n\nconst GridContainer = styled.div`\n    display: inline-block;\n    position: relative;\n    user-select: none;\n`\n\nconst CustomTimeTableGrid: React.FC<GridProps> = ({\n    cellWidth = 120,\n    lectureSummary,\n    hover,\n    setHover,\n    selected,\n    setSelected,\n}) => {\n    const { t } = useTranslation()\n\n    const colPadding = 5\n    const m = 5\n    const begin = 8\n    const gridRef = useRef<HTMLDivElement>(null)\n    const dateHeader = [\n        t(\"common.days.monday\"),\n        t(\"common.days.tuesday\"),\n        t(\"common.days.wednesday\"),\n        t(\"common.days.thursday\"),\n        t(\"common.days.friday\"),\n    ]\n    const isAnyOver24 = checkAnyOver24(lectureSummary)\n    const n = isAnyOver24 ? 38 : 32\n    const end = isAnyOver24 ? 27 : 24\n    const cellHeight = FULL_HEIGHT / ROWS\n\n    const cssVariables = useMemo(\n        () =>\n            ({\n                \"--cell-height\": `${cellHeight}px`,\n                \"--cell-width\": `${cellWidth}px`,\n                \"--col-padding\": `${colPadding}px`,\n            }) as React.CSSProperties,\n        [cellHeight, cellWidth, colPadding],\n    )\n\n    const [draggingArea] = useState<Map<number, boolean[]>>(\n        new Map(\n            Array.from({ length: m }, (_, rowIndex) => [rowIndex, Array(n).fill(null)]),\n        ),\n    )\n\n    const grid = useMemo(\n        () => renderGrid(n, m, cellWidth, cellHeight, colPadding, [], 10, 0),\n        [n, m, cellWidth, cellHeight, colPadding],\n    )\n\n    const lectureTiles = useMemo(\n        () =>\n            renderLectureTile(\n                lectureSummary,\n                cellWidth,\n                cellHeight,\n                colPadding,\n                selected,\n                setSelected,\n                hover,\n                setHover,\n                false,\n                undefined,\n                true,\n            ),\n        [\n            lectureSummary,\n            cellWidth,\n            cellHeight,\n            colPadding,\n            selected,\n            setSelected,\n            hover,\n            setHover,\n        ],\n    )\n\n    const handleClick = useCallback(() => {\n        setSelected(null)\n    }, [setSelected])\n\n    return (\n        <SectionWrapper style={cssVariables}>\n            <TimeWrapper>\n                {Array.from({ length: end - begin + 1 }, (_, index) => index + begin).map(\n                    (number) => (\n                        <div key={number}>{number % 12 || 12}</div>\n                    ),\n                )}\n            </TimeWrapper>\n            <FlexWrapper direction=\"column\" gap={0}>\n                <FlexWrapper direction=\"row\" gap={5}>\n                    {dateHeader.map(\n                        (date, index) =>\n                            date !== \"none\" && (\n                                <DateWrapper\n                                    key={index}\n                                    style={date === \"\" ? { width: \"10px\" } : undefined}\n                                >\n                                    {date}\n                                </DateWrapper>\n                            ),\n                    )}\n                </FlexWrapper>\n                <GridContainer ref={gridRef} onClick={handleClick}>\n                    {grid}\n                    {renderTargetArea(\n                        true,\n                        draggingArea,\n                        \"rgba(229, 76, 101, 0.5)\",\n                        cellHeight,\n                        cellWidth,\n                        2,\n                        colPadding,\n                        [],\n                        0,\n                        0,\n                    )}\n                    {lectureTiles}\n                </GridContainer>\n            </FlexWrapper>\n        </SectionWrapper>\n    )\n}\n\nexport default React.memo(CustomTimeTableGrid)\n","import { useEffect, useRef, useState } from \"react\"\n\nimport { useTheme } from \"@emotion/react\"\nimport styled from \"@emotion/styled\"\nimport LockIcon from \"@mui/icons-material/Lock\"\nimport { Trans } from \"react-i18next\"\n\nimport LoadingCircle from \"@/common/components/LoadingCircle\"\nimport FlexWrapper from \"@/common/primitives/FlexWrapper\"\nimport Icon from \"@/common/primitives/Icon\"\nimport Typography from \"@/common/primitives/Typography\"\nimport type { Lecture } from \"@/common/schemas/lecture\"\nimport { media } from \"@/styles/themes/media\"\nimport { useAPI } from \"@/utils/api/useAPI\"\nimport { handleLogin } from \"@/utils/handleLoginLogout\"\nimport useUserStore from \"@/utils/zustand/useUserStore\"\n\nimport Widget from \"../../../../common/primitives/Widget\"\nimport CustomTimeTableGrid from \"../../components/CustomTimeTableGrid\"\n\nconst StyledWidget = styled(Widget)`\n    width: 856px;\n\n    ${media.laptop} {\n        width: 100%;\n    }\n`\n\nconst TimeTableInner = styled(FlexWrapper)`\n    flex-grow: 1;\n    width: 100%;\n`\n\nconst BlurWrapper = styled.div<{ blur: boolean }>`\n    filter: ${(props) => (props.blur ? \"blur(4px)\" : \"none\")};\n    width: 100%;\n    height: 100%;\n`\n\nconst LoginWrapper = styled(FlexWrapper)`\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 10;\n`\n\nconst LockIconWrapper = styled.div`\n    width: 50px;\n    height: 50px;\n    border-radius: 100%;\n    border: 2px solid ${({ theme }) => theme.colors.Highlight.default};\n    padding: 8px;\n`\n\nconst LoginButton = styled.div`\n    padding: 8px 20px;\n    border-radius: 20px;\n    background-color: ${({ theme }) => theme.colors.Highlight.default};\n    cursor: pointer;\n    user-select: none;\n`\n\nconst TimeTableSection = () => {\n    const theme = useTheme()\n    const { user, status } = useUserStore()\n\n    const totalRef = useRef<HTMLDivElement>(null)\n    const [width, setWidth] = useState(0)\n\n    const [selected, setSelected] = useState<Lecture | null>(null)\n    const [hover, setHover] = useState<Lecture[] | null>(null)\n\n    const { query: myTimetable, setParams: setMyTimetableParams } = useAPI(\n        \"GET\",\n        \"/timetables/my-timetable\",\n        {\n            enabled: status === \"success\",\n        },\n    )\n    const { query: semesters } = useAPI(\"GET\", \"/semesters\")\n\n    useEffect(() => {\n        if (semesters.data && semesters.data.semesters.length > 0) {\n            const latestSemester =\n                semesters.data.semesters[semesters.data.semesters.length - 1]\n            if (!latestSemester) return\n            setMyTimetableParams({\n                year: latestSemester.year,\n                semester: latestSemester.semester,\n            } as never)\n        }\n    }, [semesters.data, setMyTimetableParams])\n\n    useEffect(() => {\n        const handleResize = () => {\n            if (totalRef.current) {\n                setWidth(totalRef.current.clientWidth)\n            }\n        }\n\n        window.addEventListener(\"resize\", handleResize)\n        handleResize()\n\n        return () => {\n            window.removeEventListener(\"resize\", handleResize)\n        }\n    }, [totalRef, status])\n\n    const lectures = myTimetable.data?.lectures ?? []\n\n    return (\n        <StyledWidget direction=\"column\" gap={0} padding=\"30px\" flex=\"1 1 auto\">\n            {status === \"loading\" ? (\n                <LoadingCircle />\n            ) : (\n                <TimeTableInner\n                    direction=\"column\"\n                    align=\"stretch\"\n                    gap={16}\n                    ref={totalRef}\n                >\n                    {status === \"idle\" ? (\n                        <LoginWrapper direction=\"column\" gap={12} align=\"center\">\n                            <LockIconWrapper>\n                                <Icon size={30} color={theme.colors.Highlight.default}>\n                                    <LockIcon />\n                                </Icon>\n                            </LockIconWrapper>\n                            <LoginButton onClick={handleLogin}>\n                                <Typography type=\"BigBold\" style={{ color: \"#FFFFFF\" }}>\n                                    로그인하러가기\n                                </Typography>\n                            </LoginButton>\n                        </LoginWrapper>\n                    ) : (\n                        <FlexWrapper direction=\"row\" gap={0}>\n                            <Trans\n                                i18nKey=\"main.hisTimeTable\"\n                                values={{ name: user?.name }}\n                                components={{\n                                    name: (\n                                        <Typography\n                                            type=\"BiggerBold\"\n                                            color=\"Highlight.default\"\n                                            children={undefined}\n                                        />\n                                    ),\n                                    normal: (\n                                        <Typography\n                                            type=\"BiggerBold\"\n                                            color=\"Text.dark\"\n                                            children={undefined}\n                                        />\n                                    ),\n                                    space: <>&nbsp;</>,\n                                }}\n                            />\n                        </FlexWrapper>\n                    )}\n                    <BlurWrapper blur={status === \"idle\"}>\n                        <CustomTimeTableGrid\n                            cellWidth={(width - 30) / 5}\n                            lectureSummary={lectures}\n                            hover={hover}\n                            setHover={setHover}\n                            selected={selected}\n                            setSelected={setSelected}\n                        />\n                    </BlurWrapper>\n                </TimeTableInner>\n            )}\n        </StyledWidget>\n    )\n}\n\nexport default TimeTableSection\n"],"names":["checkAnyOver24","schedule","val","_","timeBlocks","t","__","renderGrid","n","m","cellWidth","cellHeight","colPadding","placeholderIndex","placeholderWidth","pageStart","grid","lastRowIndex","lastColIndex","i","row","isEvenRow","isLastRow","j","isShown","isLastCol","jsx","flattenTimeTableColors","timeTable","c","TileWrapper","styled","theme","course_id","isHighlighted","isOverlapped","flat","hoverSelectBanned","TitleWrapper","DescWrapper","RemoveButton","LectureTile","lecture","timeBlock","isSelected","isHovered","removeFunction","duration","cssVariables","useMemo","jsxs","Icon","e","CloseIcon","prof","arePropsEqual","prevProps","nextProps","prevProf","LectureTile$1","memo","renderLectureTile","timetableLectures","selected","setSelected","hover","setHover","dragging","rectangles","lectureSummary","lec","overlapMap","other","checkOverlap","left","top","event","calcLeft","index","res","renderTargetArea","idx","targetArea","color","rowPadding","value","key","startIndex","height","width","FULL_HEIGHT","ROWS","SectionWrapper","TimeWrapper","DateWrapper","GridContainer","CustomTimeTableGrid","useTranslation","begin","gridRef","useRef","dateHeader","end","draggingArea","useState","rowIndex","lectureTiles","handleClick","useCallback","number","FlexWrapper","date","CustomTimeTableGrid$1","React","StyledWidget","Widget","media","TimeTableInner","BlurWrapper","props","LoginWrapper","LockIconWrapper","LoginButton","TimeTableSection","useTheme","user","status","useUserStore","totalRef","setWidth","myTimetable","setMyTimetableParams","useAPI","semesters","useEffect","latestSemester","handleResize","lectures","LoadingCircle","LockIcon","handleLogin","Typography","Trans"],"mappings":"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"}
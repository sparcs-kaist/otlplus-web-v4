import{j as o,a as u}from"./emotion-react-jsx-runtime.browser.esm-B-zamEU7.js";import{r as a,L as k}from"./chunk-EPOLDU6W-zmgMqoXq.js";import{F as c,n as E}from"./FlexWrapper-Cxmg7ETU.js";import{u as I,j}from"./useAPI-B2f8YEht.js";import{T as g}from"./Typography-DoXk6ZeF.js";import{W as v}from"./Widget-7aHsC-ms.js";import{u as B}from"./useTranslation-BV_BGx8x.js";import{T as L}from"./Trans-D3j_BVRU.js";import"./index-CrUTr-li.js";import"./env-BlYEkaK0.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"ada4c7999b6ed5c9c18808775724ee3dffa94ca2"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},i=new e.Error().stack;i&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[i]="aaa55711-4378-4a24-aa14-4716d5c2277e",e._sentryDebugIdIdentifier="sentry-dbid-aaa55711-4378-4a24-aa14-4716d5c2277e")})()}catch{}const M=E(k)`
    color: ${({theme:e})=>e.colors.Highlight.default};
    text-decoration: none;
    font-size: ${({theme:e})=>e.fonts.NormalBold.fontSize}px;
    font-weight: ${({theme:e})=>e.fonts.NormalBold.fontWeight};

    &:hover {
        color: ${({theme:e})=>e.colors.Highlight.dark};
    }
`;function P(){const{query:e}=I("GET","/semesters"),[i,T]=a.useState(new Date),[b,w]=a.useState(""),[m,x]=a.useState(null),[h,p]=a.useState(""),[l,y]=a.useState(null),{t:d}=B();a.useEffect(()=>{const r=setInterval(()=>T(new Date),1e3);return()=>clearInterval(r)},[]),a.useEffect(()=>{if(!e.data?.semesters)return;const r=e.data.semesters[e.data.semesters.length-1];if(!r)return;x({year:r.year,semester:r.semester});const f=Object.entries(r).filter(([t,n])=>t!=="year"&&t!=="semester"&&n!==null).map(([t,n])=>[t,new Date(n)]).sort((t,n)=>t[1].getTime()-n[1].getTime());for(const[t,n]of f)if(i.getTime()<=n.getTime()){p(t),y(n);return}const s=f[f.length-1];s&&(p(s[0]),y(s[1]))},[e.data]),a.useEffect(()=>{if(!l)return;const r=l.getTime()-i.getTime(),f=r<0,s=Math.abs(r),t=Math.floor(s/(1e3*60*60*24)),n=Math.floor(s/(1e3*60*60)%24),$=Math.floor(s/(1e3*60)%60),D=Math.floor(s/1e3%60);w(`D${f?"+":"-"}${t} ${n}${d("common.hours")} ${$}${d("common.minutes")} ${D}${d("common.seconds")}`)},[i,l]);function S(){return m?m.year.toString()+" "+j(m.semester)+" "+d(`main.schedule.contents.${h}`):d(`main.schedule.contents.${h}`)}return l?o(v,{direction:"column",align:"stretch",gap:0,padding:"23px 30px",children:u(c,{direction:"column",align:"stretch",gap:16,children:[u(c,{direction:"column",align:"center",gap:10,children:[u(c,{direction:"column",align:"stretch",gap:0,children:[o(c,{direction:"row",justify:"center",gap:0,style:{textAlign:"center"},children:o(g,{type:"BiggerBold",color:"Text.dark",children:o(L,{i18nKey:"main.schedule.title",values:{content:S()}})})}),o(c,{direction:"row",justify:"center",gap:0,style:{textAlign:"center"},children:o(g,{type:"BiggerBold",color:"Text.dark",children:b})})]}),o(c,{direction:"column",gap:0,style:{textAlign:"center"},children:u(g,{type:"Normal",color:"Text.placeholder",children:[S()," ",l.getFullYear(),".",String(l.getMonth()+1).padStart(2,"0"),".",String(l.getDate()).padStart(2,"0")]})})]}),o(c,{direction:"column",align:"flex-end",gap:0,children:o(M,{to:"https://erp.kaist.ac.kr",target:"_blank",children:d("main.schedule.link")})})]})}):null}export{P as default};
//# sourceMappingURL=index-CIdQjyM8.js.map

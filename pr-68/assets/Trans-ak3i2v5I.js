import{A as U,r as A}from"./chunk-UIGDSWPH-ClhI_Z4l.js";import{X as Y}from"./useIsDevice-Y54zVQRt.js";import{w as W,g as Z,b as G,i as w,c as _,d as j,I as Q}from"./useTranslation-DrmvPmDd.js";var F,B;function K(){return B||(B=1,F={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),F}var ee=K();const te=U(ee);var ne=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function H(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},n=e.match(/<\/?([^\s]+?)[/\s>]/);if(n&&(t.name=n[1],(te[n[1]]||e.charAt(e.length-2)==="/")&&(t.voidElement=!0),t.name.startsWith("!--"))){var r=e.indexOf("-->");return{type:"comment",comment:r!==-1?e.slice(4,r):""}}for(var i=new RegExp(ne),s=null;(s=i.exec(e))!==null;)if(s[0].trim())if(s[1]){var l=s[1].trim(),o=[l,""];l.indexOf("=")>-1&&(o=l.split("=")),t.attrs[o[0]]=o[1],i.lastIndex--}else s[2]&&(t.attrs[s[2]]=s[3].trim().substring(1,s[3].length-1));return t}var re=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,se=/^\s*$/,ae=Object.create(null);function R(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?(function(n){var r=[];for(var i in n)r.push(i+'="'+n[i]+'"');return r.length?" "+r.join(" "):""})(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(R,"")+"</"+t.name+">";case"comment":return e+"<!--"+t.comment+"-->"}}var ie={parse:function(e,t){t||(t={}),t.components||(t.components=ae);var n,r=[],i=[],s=-1,l=!1;if(e.indexOf("<")!==0){var o=e.indexOf("<");r.push({type:"text",content:o===-1?e:e.substring(0,o)})}return e.replace(re,function(u,p){if(l){if(u!=="</"+n.name+">")return;l=!1}var f,E=u.charAt(1)!=="/",O=u.startsWith("<!--"),d=p+u.length,c=e.charAt(d);if(O){var C=H(u);return s<0?(r.push(C),r):((f=i[s]).children.push(C),r)}if(E&&(s++,(n=H(u)).type==="tag"&&t.components[n.name]&&(n.type="component",l=!0),n.voidElement||l||!c||c==="<"||n.children.push({type:"text",content:e.slice(d,e.indexOf("<",d))}),s===0&&r.push(n),(f=i[s-1])&&f.children.push(n),i[s]=n),(!E||n.voidElement)&&(s>-1&&(n.voidElement||n.name===u.slice(2,-1))&&(s--,n=s===-1?r:i[s]),!l&&c!=="<"&&c)){f=s===-1?r:i[s].children;var y=e.indexOf("<",d),x=e.slice(d,y===-1?void 0:y);se.test(x)&&(x=" "),(y>-1&&s+f.length>=0||x!==" ")&&f.push({type:"text",content:x})}}),r},stringify:function(e){return e.reduce(function(t,n){return t+R("",n)},"")}};const P=(e,t)=>{if(!e)return!1;const n=e.props?.children??e.children;return t?n.length>0:!!n},z=e=>{if(!e)return[];const t=e.props?.children??e.children;return e.props?.i18nIsDynamicList?L(t):t},le=e=>Array.isArray(e)&&e.every(A.isValidElement),L=e=>Array.isArray(e)?e:[e],oe=(e,t)=>{const n={...t};return n.props=Object.assign(e.props,t.props),n},M=(e,t,n,r)=>{if(!e)return"";let i="";const s=L(e),l=t?.transSupportBasicHtmlNodes?t.transKeepBasicHtmlNodesFor??[]:[];return s.forEach((o,u)=>{if(w(o)){i+=`${o}`;return}if(A.isValidElement(o)){const{props:p,type:f}=o,E=Object.keys(p).length,O=l.indexOf(f)>-1,d=p.children;if(!d&&O&&!E){i+=`<${f}/>`;return}if(!d&&(!O||E)||p.i18nIsDynamicList){i+=`<${u}></${u}>`;return}if(O&&E===1&&w(d)){i+=`<${f}>${d}</${f}>`;return}const c=M(d,t,n,r);i+=`<${u}>${c}</${u}>`;return}if(o===null){_(n,"TRANS_NULL_VALUE","Passed in a null value as child",{i18nKey:r});return}if(j(o)){const{format:p,...f}=o,E=Object.keys(f);if(E.length===1){const O=p?`${E[0]}, ${p}`:E[0];i+=`{{${O}}}`;return}_(n,"TRANS_INVALID_OBJ","Invalid child - Object should only have keys {{ value, format }} (format is optional).",{i18nKey:r,child:o});return}_(n,"TRANS_INVALID_VAR","Passed in a variable like {number} - pass variables for interpolation as full objects like {{number}}.",{i18nKey:r,child:o})}),i},ce=(e,t=[],n={})=>{if(!e)return e;const r=Object.keys(n),i=[...t,...r];let s="",l=0;for(;l<e.length;)if(e[l]==="<"){let o=!1;const u=e.slice(l).match(/^<\/(\d+|[a-zA-Z][a-zA-Z0-9-]*)>/);if(u){const p=u[1];(/^\d+$/.test(p)||i.includes(p))&&(o=!0,s+=u[0],l+=u[0].length)}if(!o){const p=e.slice(l).match(/^<(\d+|[a-zA-Z][a-zA-Z0-9-]*)(\s+[\w-]+(?:=(?:"[^"]*"|'[^']*'|[^\s>]+))?)*\s*(\/)?>/);if(p){const f=p[1];(/^\d+$/.test(f)||i.includes(f))&&(o=!0,s+=p[0],l+=p[0].length)}}o||(s+="&lt;",l+=1)}else s+=e[l],l+=1;return s},ue=(e,t,n,r,i,s,l)=>{if(n==="")return[];const o=i.transKeepBasicHtmlNodesFor||[],u=n&&new RegExp(o.map(v=>`<${v}`).join("|")).test(n);if(!e&&!t&&!u&&!l)return[n];const p=t??{},f=v=>{L(v).forEach(m=>{w(m)||(P(m)?f(z(m)):j(m)&&!A.isValidElement(m)&&Object.assign(p,m))})};f(e);const E=ce(n,o,p),O=ie.parse(`<0>${E}</0>`),d={...p,...s},c=(v,N,m)=>{const b=z(v),k=y(b,N.children,m);return le(b)&&k.length===0||v.props?.i18nIsDynamicList?b:k},C=(v,N,m,b,k)=>{v.dummy?(v.children=N,m.push(A.cloneElement(v,{key:b},k?void 0:N))):m.push(...A.Children.map([v],h=>{const a={...h.props};return delete a.i18nIsDynamicList,A.createElement(h.type,{...a,key:b,ref:h.props.ref??h.ref},k?null:N)}))},y=(v,N,m)=>{const b=L(v);return L(N).reduce((h,a,V)=>{const I=a.children?.[0]?.content&&r.services.interpolator.interpolate(a.children[0].content,d,r.language);if(a.type==="tag"){let $=b[parseInt(a.name,10)];!$&&t&&($=t[a.name]),m.length===1&&!$&&($=m[0][a.name]),$||($={});const g=Object.keys(a.attrs).length!==0?oe({props:a.attrs},$):$,S=A.isValidElement(g),D=S&&P(a,!0)&&!a.voidElement,q=u&&j(g)&&g.dummy&&!S,J=j(t)&&Object.hasOwnProperty.call(t,a.name);if(w(g)){const T=r.services.interpolator.interpolate(g,d,r.language);h.push(T)}else if(P(g)||D){const T=c(g,a,m);C(g,T,h,V)}else if(q){const T=y(b,a.children,m);C(g,T,h,V)}else if(Number.isNaN(parseFloat(a.name)))if(J){const T=c(g,a,m);C(g,T,h,V,a.voidElement)}else if(i.transSupportBasicHtmlNodes&&o.indexOf(a.name)>-1)if(a.voidElement)h.push(A.createElement(a.name,{key:`${a.name}-${V}`}));else{const T=y(b,a.children,m);h.push(A.createElement(a.name,{key:`${a.name}-${V}`},T))}else if(a.voidElement)h.push(`<${a.name} />`);else{const T=y(b,a.children,m);h.push(`<${a.name}>${T}</${a.name}>`)}else if(j(g)&&!S){const T=a.children[0]?I:null;T&&h.push(T)}else C(g,I,h,V,a.children.length!==1||!I)}else if(a.type==="text"){const $=i.transWrapTextNodes,g=l?i.unescape(r.services.interpolator.interpolate(a.content,d,r.language)):r.services.interpolator.interpolate(a.content,d,r.language);$?h.push(A.createElement($,{key:`${a.name}-${V}`},g)):h.push(g)}return h},[])},x=y([{dummy:!0,children:e||[]}],O,L(e||[]));return z(x[0])},X=(e,t,n)=>{const r=e.key||t,i=A.cloneElement(e,{key:r});if(!i.props||!i.props.children||n.indexOf(`${t}/>`)<0&&n.indexOf(`${t} />`)<0)return i;function s(){return A.createElement(A.Fragment,null,i)}return A.createElement(s,{key:r})},pe=(e,t)=>e.map((n,r)=>X(n,r,t)),fe=(e,t)=>{const n={};return Object.keys(e).forEach(r=>{Object.assign(n,{[r]:X(e[r],r,t)})}),n},me=(e,t,n,r)=>e?Array.isArray(e)?pe(e,t):j(e)?fe(e,t):(W(n,"TRANS_INVALID_COMPONENTS",'<Trans /> "components" prop expects an object or array',{i18nKey:r}),null):null,he=e=>!j(e)||Array.isArray(e)?!1:Object.keys(e).reduce((t,n)=>t&&Number.isNaN(Number.parseFloat(n)),!0);function de({children:e,count:t,parent:n,i18nKey:r,context:i,tOptions:s={},values:l,defaults:o,components:u,ns:p,i18n:f,t:E,shouldUnescape:O,...d}){const c=f||Z();if(!c)return W(c,"NO_I18NEXT_INSTANCE","Trans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:r}),e;const C=E||c.t.bind(c)||(D=>D),y={...G(),...c.options?.react};let x=p||C.ns||c.options?.defaultNS;x=w(x)?[x]:x||["translation"];const v=M(e,y,c,r),N=o||s?.defaultValue||v||y.transEmptyNodeValue||(typeof r=="function"?Y(r):r),{hashTransKey:m}=y,b=r||(m?m(v||N):v||N);c.options?.interpolation?.defaultVariables&&(l=l&&Object.keys(l).length>0?{...l,...c.options.interpolation.defaultVariables}:{...c.options.interpolation.defaultVariables});const k=l||t!==void 0&&!c.options?.interpolation?.alwaysFormat||!e?s.interpolation:{interpolation:{...s.interpolation,prefix:"#$?",suffix:"?$#"}},h={...s,context:i||s.context,count:t,...l,...k,defaultValue:o||s?.defaultValue,ns:x};let a=b?C(b,h):N;a===b&&N&&(a=N);const V=me(u,a,c,r);let I=V||e,$=null;he(V)&&($=V,I=e);const g=ue(I,$,a,c,y,h,O),S=n??y.defaultTransParent;return S?A.createElement(S,d,g):g}function ve({children:e,count:t,parent:n,i18nKey:r,context:i,tOptions:s={},values:l,defaults:o,components:u,ns:p,i18n:f,t:E,shouldUnescape:O,...d}){const{i18n:c,defaultNS:C}=A.useContext(Q)||{},y=f||c||Z(),x=E||y?.t.bind(y);return de({children:e,count:t,parent:n,i18nKey:r,context:i,tOptions:s,values:l,defaults:o,components:u,ns:p||x?.ns||C||y?.options?.defaultNS,i18n:y,t:E,shouldUnescape:O,...d})}export{ve as T};
//# sourceMappingURL=Trans-ak3i2v5I.js.map

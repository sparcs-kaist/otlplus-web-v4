{"version":3,"file":"index-i23VSwHU.js","sources":["../../../app/features/main/sections/ScheduleFeedSection/index.tsx"],"sourcesContent":["import styled from \"@emotion/styled\"\nimport { useTranslation } from \"react-i18next\"\n\nimport Line from \"@/common/components/Line\"\nimport FlexWrapper from \"@/common/primitives/FlexWrapper\"\nimport Typography from \"@/common/primitives/Typography\"\nimport { useAPI } from \"@/utils/api/useAPI\"\n\nimport Widget from \"../../../../common/primitives/Widget\"\n\nconst NoSchedulesPlaceholder = styled(Typography)`\n    min-height: 100px;\n    flex-grow: 1;\n    text-align: center;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`\n\nfunction ScheduleFeedSection() {\n    const { t } = useTranslation()\n\n    const thisYear = new Date().getFullYear()\n    const { query } = useAPI(\"GET\", \"/schedules\")\n\n    const isSameDay = (d1: Date, d2: Date) => {\n        return (\n            d1.getFullYear() === d2.getFullYear() &&\n            d1.getMonth() === d2.getMonth() &&\n            d1.getDate() === d2.getDate()\n        )\n    }\n    function formatDate(date: Date) {\n        return `${(date.getMonth() + 1).toString().padStart(2, \"0\")}/${date.getDate().toString().padStart(2, \"0\")}`\n    }\n\n    return (\n        <Widget direction=\"column\" gap={20} align=\"stretch\" padding=\"30px\" flex=\"1 1 0\">\n            <FlexWrapper direction=\"row\" gap={0}>\n                <Typography type=\"BiggerBold\" color=\"Text.default\">\n                    {t(\"main.scheduleFeed.title\")}\n                </Typography>\n            </FlexWrapper>\n            <FlexWrapper direction=\"column\" align=\"stretch\" gap={15} flex=\"1 1 0\">\n                {!query.data?.schedules || query.data?.schedules.length === 0 ? (\n                    <NoSchedulesPlaceholder type=\"BiggerBold\" color=\"Text.default\">\n                        {t(\"main.scheduleFeed.noSchedules\")}\n                    </NoSchedulesPlaceholder>\n                ) : null}\n                {query.data?.schedules.map((schedule, idx) => {\n                    if (schedule.year !== thisYear) return null\n                    return (\n                        <FlexWrapper\n                            key={idx}\n                            direction=\"column\"\n                            align=\"stretch\"\n                            gap={15}\n                        >\n                            <FlexWrapper direction=\"row\" justify=\"space-between\" gap={0}>\n                                <Typography type=\"BigBold\" color=\"Highlight.default\">\n                                    {isSameDay(schedule.from, schedule.to)\n                                        ? formatDate(schedule.from)\n                                        : formatDate(schedule.from) +\n                                          \" - \" +\n                                          formatDate(schedule.to)}\n                                </Typography>\n                                <Typography type=\"BigBold\" color=\"Text.default\">\n                                    {schedule.name}\n                                </Typography>\n                            </FlexWrapper>\n                            {idx < query.data.schedules.length - 1 ? (\n                                <Line height={1} color=\"Line.default\" />\n                            ) : null}\n                        </FlexWrapper>\n                    )\n                })}\n            </FlexWrapper>\n        </Widget>\n    )\n}\n\nexport default ScheduleFeedSection\n"],"names":["NoSchedulesPlaceholder","styled","Typography","ScheduleFeedSection","useTranslation","thisYear","query","useAPI","isSameDay","d1","d2","formatDate","date","jsxs","Widget","jsx","FlexWrapper","schedule","idx","Line"],"mappings":"q1BAUA,MAAMA,EAAyBC,EAAOC,CAAU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAShD,SAASC,GAAsB,CAC3B,KAAM,CAAE,CAAA,EAAMC,EAAA,EAERC,EAAW,IAAI,KAAA,EAAO,YAAA,EACtB,CAAE,MAAAC,CAAA,EAAUC,EAAO,MAAO,YAAY,EAEtCC,EAAY,CAACC,EAAUC,IAErBD,EAAG,YAAA,IAAkBC,EAAG,YAAA,GACxBD,EAAG,SAAA,IAAeC,EAAG,YACrBD,EAAG,QAAA,IAAcC,EAAG,QAAA,EAG5B,SAASC,EAAWC,EAAY,CAC5B,MAAO,IAAIA,EAAK,SAAA,EAAa,GAAG,SAAA,EAAW,SAAS,EAAG,GAAG,CAAC,IAAIA,EAAK,UAAU,SAAA,EAAW,SAAS,EAAG,GAAG,CAAC,EAC7G,CAEA,OACIC,EAACC,EAAA,CAAO,UAAU,SAAS,IAAK,GAAI,MAAM,UAAU,QAAQ,OAAO,KAAK,QACpE,SAAA,CAAAC,EAACC,EAAA,CAAY,UAAU,MAAM,IAAK,EAC9B,SAAAD,EAACb,EAAA,CAAW,KAAK,aAAa,MAAM,eAC/B,SAAA,EAAE,yBAAyB,EAChC,EACJ,EACAW,EAACG,GAAY,UAAU,SAAS,MAAM,UAAU,IAAK,GAAI,KAAK,QACzD,SAAA,CAAA,CAACV,EAAM,MAAM,WAAaA,EAAM,MAAM,UAAU,SAAW,EACxDS,EAACf,EAAA,CAAuB,KAAK,aAAa,MAAM,eAC3C,SAAA,EAAE,+BAA+B,EACtC,EACA,KACHM,EAAM,MAAM,UAAU,IAAI,CAACW,EAAUC,IAC9BD,EAAS,OAASZ,EAAiB,KAEnCQ,EAACG,EAAA,CAEG,UAAU,SACV,MAAM,UACN,IAAK,GAEL,SAAA,CAAAH,EAACG,GAAY,UAAU,MAAM,QAAQ,gBAAgB,IAAK,EACtD,SAAA,CAAAD,EAACb,EAAA,CAAW,KAAK,UAAU,MAAM,oBAC5B,SAAAM,EAAUS,EAAS,KAAMA,EAAS,EAAE,EAC/BN,EAAWM,EAAS,IAAI,EACxBN,EAAWM,EAAS,IAAI,EACxB,MACAN,EAAWM,EAAS,EAAE,CAAA,CAChC,IACCf,EAAA,CAAW,KAAK,UAAU,MAAM,eAC5B,WAAS,IAAA,CACd,CAAA,EACJ,EACCgB,EAAMZ,EAAM,KAAK,UAAU,OAAS,EACjCS,EAACI,EAAA,CAAK,OAAQ,EAAG,MAAM,cAAA,CAAe,EACtC,IAAA,CAAA,EAnBCD,CAAA,CAsBhB,CAAA,CAAA,CACL,CAAA,EACJ,CAER"}
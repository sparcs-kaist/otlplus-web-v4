{"version":3,"file":"handleLoginLogout-C84IXrd0.js","sources":["../../../app/utils/handleLoginLogout.ts"],"sourcesContent":["import { clientEnv } from \"@/env\"\nimport { axiosClient } from \"@/libs/axios\"\nimport { resetUser, trackEvent } from \"@/libs/mixpanel\"\nimport { clearQueryCache } from \"@/libs/offline\"\nimport { removeLocalStorageItem } from \"@/utils/localStorage\"\n\nexport function handleLogin() {\n    document.cookie = \"loginFromBeta=true; Domain=.otl.sparcs.org; Path=/\"\n    location.href = clientEnv.VITE_APP_API_URL + `/session/login`\n}\n\nexport async function handleLogout() {\n    await trackEvent(\"Sign Out\")\n    resetUser()\n    await clearQueryCache()\n\n    if (process.env.NODE_ENV === \"production\") {\n        location.href =\n            clientEnv.VITE_APP_API_URL + `/session/logout?next=${window.location.origin}`\n    } else {\n        removeLocalStorageItem(\"devStudentId\")\n        delete axiosClient.defaults.headers.common[\"X-AUTH-SID\"]\n        delete axiosClient.defaults.headers.common[\"X-SID-AUTH-TOKEN\"]\n        location.reload()\n    }\n}\n"],"names":["handleLogin","clientEnv","handleLogout","trackEvent","resetUser","clearQueryCache"],"mappings":"iiBAMO,SAASA,GAAc,CAC1B,SAAS,OAAS,qDAClB,SAAS,KAAOC,EAAU,iBAAmB,gBACjD,CAEA,eAAsBC,GAAe,CACjC,MAAMC,EAAW,UAAU,EAC3BC,EAAA,EACA,MAAMC,EAAA,EAGF,SAAS,KACLJ,EAAU,iBAAmB,wBAAwB,OAAO,SAAS,MAAM,EAOvF"}
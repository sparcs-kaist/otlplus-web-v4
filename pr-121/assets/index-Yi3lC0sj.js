import{j as o,a as u}from"./emotion-react-jsx-runtime.browser.esm-BJ8pBGCa.js";import{r as a,L as k}from"./chunk-JZWAC4HX-DoXHMsGd.js";import{F as c,s as E}from"./FlexWrapper-BfffTCrz.js";import{u as I,k as j}from"./useIsDevice-BGQBKRmR.js";import{T as g}from"./Typography-DUUYvdxz.js";import{W as v}from"./Widget-C1zNqu7r.js";import{u as B}from"./useTranslation-Ci3g4PdN.js";import{T as L}from"./Trans-BA3erIPu.js";import"./index-yZwZjQSk.js";import"./env-DSXJkvP7.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"bceeb3a7016bc57a84c0b8e0829cc0881af327bc"};var l=new e.Error().stack;l&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[l]="e995aa46-de93-44ca-a4c6-baaa395e0c28",e._sentryDebugIdIdentifier="sentry-dbid-e995aa46-de93-44ca-a4c6-baaa395e0c28")}catch{}})();const M=E(k)`
    color: ${({theme:e})=>e.colors.Highlight.default};
    text-decoration: none;
    font-size: ${({theme:e})=>e.fonts.NormalBold.fontSize}px;
    font-weight: ${({theme:e})=>e.fonts.NormalBold.fontWeight};

    &:hover {
        color: ${({theme:e})=>e.colors.Highlight.dark};
    }
`;function P(){const{query:e}=I("GET","/semesters"),[l,h]=a.useState(new Date),[T,x]=a.useState(""),[f,$]=a.useState(null),[p,y]=a.useState(""),[i,S]=a.useState(null),{t:d}=B();a.useEffect(()=>{const r=setInterval(()=>h(new Date),1e3);return()=>clearInterval(r)},[]),a.useEffect(()=>{if(!e.data?.semesters)return;const r=e.data.semesters[e.data.semesters.length-1];if(!r)return;$({year:r.year,semester:r.semester});const m=Object.entries(r).filter(([t,n])=>t!=="year"&&t!=="semester"&&n!==null).map(([t,n])=>[t,new Date(n)]).sort((t,n)=>t[1].getTime()-n[1].getTime());for(const[t,n]of m)if(l.getTime()<=n.getTime()){y(t),S(n);return}const s=m[m.length-1];s&&(y(s[0]),S(s[1]))},[e.data]),a.useEffect(()=>{if(!i)return;const r=i.getTime()-l.getTime(),m=r<0,s=Math.abs(r),t=Math.floor(s/(1e3*60*60*24)),n=Math.floor(s/(1e3*60*60)%24),w=Math.floor(s/(1e3*60)%60),D=Math.floor(s/1e3%60);x(`D${m?"+":"-"}${t} ${n}${d("common.hours")} ${w}${d("common.minutes")} ${D}${d("common.seconds")}`)},[l,i]);function b(){return f?f.year.toString()+" "+j(f.semester)+" "+d(`main.schedule.contents.${p}`):d(`main.schedule.contents.${p}`)}return i?o(v,{direction:"column",align:"stretch",gap:0,padding:"23px 30px",children:u(c,{direction:"column",align:"stretch",gap:16,children:[u(c,{direction:"column",align:"center",gap:10,children:[u(c,{direction:"column",align:"stretch",gap:0,children:[o(c,{direction:"row",justify:"center",gap:0,style:{textAlign:"center"},children:o(g,{type:"BiggerBold",color:"Text.dark",children:o(L,{i18nKey:"main.schedule.title",values:{content:b()}})})}),o(c,{direction:"row",justify:"center",gap:0,style:{textAlign:"center"},children:o(g,{type:"BiggerBold",color:"Text.dark",children:T})})]}),o(c,{direction:"column",gap:0,style:{textAlign:"center"},children:u(g,{type:"Normal",color:"Text.placeholder",children:[b()," ",i.getFullYear(),".",String(i.getMonth()+1).padStart(2,"0"),".",String(i.getDate()).padStart(2,"0")]})})]}),o(c,{direction:"column",align:"flex-end",gap:0,children:o(M,{to:"https://erp.kaist.ac.kr",target:"_blank",children:d("main.schedule.link")})})]})}):null}export{P as default};
//# sourceMappingURL=index-Yi3lC0sj.js.map

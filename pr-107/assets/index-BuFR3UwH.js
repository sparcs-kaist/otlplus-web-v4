import{a as c,j as t}from"./emotion-react-jsx-runtime.browser.esm-CIs5QH4e.js";import{r as s}from"./chunk-EPOLDU6W-C7Mih6dn.js";import{F as p,n as T}from"./FlexWrapper-CiU7Docw.js";import{u as k,t as B}from"./index-CJg_gw_r.js";import{B as b}from"./media-DekK64PZ.js";import{T as G,G as N}from"./TextInputArea-CnB63wAP.js";import{T as u}from"./Typography-DPaPocUe.js";import{u as x}from"./useIsDevice-Bk2x9Zh4.js";import{u as $}from"./useUserStore-B-RJgBCJ.js";import{W as j}from"./Widget-DxFArdse.js";import{u as q}from"./useTranslation-BR8Z1e6H.js";import{T as C}from"./Trans-B4iDCjEE.js";import"./env-uieOxFGW.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"8b22083510fb16182a4a40f9388058173a907f58"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},i=new e.Error().stack;i&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[i]="4e4ae1f7-2bcf-419d-88e7-a8daa15d3ff5",e._sentryDebugIdIdentifier="sentry-dbid-4e4ae1f7-2bcf-419d-88e7-a8daa15d3ff5")})()}catch{}const L=T(p)`
    height: 173px;
    border-radius: 4px;
    background-color: ${({theme:e})=>e.colors.Background.Block.default};
`,W=T.div`
    display: grid;
    grid-template-columns: max-content auto;
    column-gap: 12px;
    row-gap: 8px;
    align-items: end;
`;function M(){const{user:e,status:i}=$(),m=k(),{query:r}=x("GET","/users/writable-review",{enabled:i==="success"}),{requestFunction:S}=x("POST","/reviews",{onSuccess:v}),[l,g]=s.useState(""),[o,h]=s.useState(0),[n,y]=s.useState(0),[d,w]=s.useState(0),{t:a}=q();function v(){r.refetch(),g(""),h(0),y(0),w(0)}function I(){r.data&&(S({lectureId:r.data.lectureId,content:l,grade:o,load:n,speech:d}),B("Submit Review",{lectureId:r.data.lectureId,courseName:r.data.name,grade:o,load:n,speech:d,source:"Home"}),m.invalidateQueries({queryKey:["/users/written-reviews"]}),m.invalidateQueries({queryKey:[`/users/${e?.id}/lectures`]}))}return r.data?c(j,{direction:"column",gap:20,padding:"23px 30px",align:"stretch",children:[t(u,{type:"BiggerBold",color:"Text.default",children:t(C,{i18nKey:"main.reviewSection.title",values:{lectureName:r.data?.name}})}),t(L,{direction:"column",align:"stretch",justify:"stretch",gap:0,children:t(G,{placeholder:a("main.reviewSection.placeholder"),type:"text",readOnly:!1,value:l,handleChange:g,area:!0})}),c(p,{direction:"column",gap:20,align:"stretch",children:[t(W,{children:[[a("common.grade"),o,h],[a("common.load"),n,y],[a("common.speech"),d,w]].map(([f,R,E])=>c(s.Fragment,{children:[t(u,{type:"Normal",color:"Text.light",children:f}),t(p,{direction:"row",align:"center",gap:10,children:t(N,{score:R,setScore:E})},f)]},f))}),c(p,{direction:"row",justify:"flex-end",gap:12,children:[t(b,{type:"default",$paddingLeft:8,$paddingTop:8,onClick:v,children:t(u,{type:"Normal",children:a("main.reviewSection.writeAnother")})}),t(b,{type:l&&o&&d&&n?"default":"disabled",$paddingLeft:8,$paddingTop:8,onClick:I,children:t(u,{type:"Normal",color:l&&o&&d&&n?"Highlight.default":"Text.disable",children:a("common.upload")})})]})]})]}):null}export{M as default};
//# sourceMappingURL=index-BuFR3UwH.js.map

{"version":3,"file":"index.esm-d-WPpkua.js","sources":["../../../node_modules/.pnpm/@channel.io+channel-web-sdk-loader@2.0.2/node_modules/@channel.io/channel-web-sdk-loader/dist/index.esm.mjs"],"sourcesContent":["const isSSR = () => {\n    if (typeof window === 'undefined') {\n        console.error('ChannelIO APIs are only executable on browser.');\n        return true;\n    }\n    return false;\n};\nconst isSDKLoaded = () => {\n    if (!window.ChannelIO) {\n        console.error('ChannelIO is not loaded. Please call loadScript() before calling ChannelIO APIs.');\n        return false;\n    }\n    return true;\n};\nconst safeChannelIO = (...args) => {\n    if (isSSR() || !isSDKLoaded()) {\n        return;\n    }\n    window.ChannelIO(...args);\n};\n/**\n * Loads the Channel SDK script into the document.\n * - Browser-only: This function can only be executed in a browser environment.\n * - Idempotent: If the Channel SDK script is already loaded, calling this function has no effect.\n */\nexport function loadScript() {\n    if (isSSR()) {\n        return;\n    }\n    (function () {\n        var w = window;\n        if (!!w.ChannelIO) {\n            return;\n        }\n        var ch = function () {\n            var _a;\n            (_a = ch.c) === null || _a === void 0 ? void 0 : _a.call(ch, arguments);\n        };\n        ch.q = [];\n        ch.c = function (args) {\n            var _a;\n            (_a = ch.q) === null || _a === void 0 ? void 0 : _a.push(args);\n        };\n        w.ChannelIO = ch;\n        function l() {\n            if (w.ChannelIOInitialized) {\n                return;\n            }\n            w.ChannelIOInitialized = true;\n            var s = document.createElement('script');\n            s.type = 'text/javascript';\n            s.async = true;\n            s.src = 'https://cdn.channel.io/plugin/ch-plugin-web.js';\n            var x = document.getElementsByTagName('script')[0];\n            if (x.parentNode) {\n                x.parentNode.insertBefore(s, x);\n            }\n        }\n        if (document.readyState === 'complete') {\n            l();\n        }\n        else {\n            w.addEventListener('DOMContentLoaded', l);\n            w.addEventListener('load', l);\n        }\n    })();\n}\n/**\n * Initializes the SDK, making `Channel button` and features like marketing pop-ups operational.\n *\n * @param {BootOption} option - Configuration options for initializing the SDK.\n * @param {Callback | undefined} callback - Function to be called after booting is complete. On failure, it receives an error object as its first argument and null as the second. On success, it receives null as the first argument and a user object as the second.\n * @see [Boot Glossary](https://developers.channel.io/docs/glossary#boot)\n * @see [Boot Option](https://developers.channel.io/docs/web-boot-option)\n * @see [User Object](https://developers.channel.io/docs/web-user-object)\n */\nexport function boot(option, callback) {\n    safeChannelIO('boot', option, callback);\n}\n/**\n * Terminates all SDK operations and reinitializes internal data.\n */\nexport function shutdown() {\n    safeChannelIO('shutdown');\n}\n/**\n * Displays the messenger interface.\n *\n * @see [ChannelIO: showmessenger API](https://developers.channel.io/docs/web-channelio#showmessenger)\n * @see [Messenger Glossary](https://developers.channel.io/docs/glossary#messenger)\n */\nexport function showMessenger() {\n    safeChannelIO('showMessenger');\n}\n/**\n * Hides the messenger interface.\n *\n * @see [ChannelIO: hidemessenger API](https://developers.channel.io/docs/web-channelio#hidemessenger)\n * @see [Messenger Glossary](https://developers.channel.io/docs/glossary#messenger)\n */\nexport function hideMessenger() {\n    safeChannelIO('hideMessenger');\n}\n/**\n * Opens a chat interface\n *\n * - Reveals the `messenger` if hidden.\n * - For an undefined `chatId`, a new chat is created. Any provided `message` populates the chat input. The workflow initializes if active.\n * - If a chat with the given `chatId` exists, the chat will open, and the `message` parameter will be disregarded.\n * - If no matching chat exists, the `home` view opens.\n * - Caution: Utilizing this function outside a click event may cause issues in iOS Safari.\n *\n * @param {string | number | undefined} chatId - ID of the chat to reveal.\n * @param {string | undefined} message - Optional text to populate the chat input field.\n * @see https://developers.channel.io/docs/web-channelio#openchat\n */\nexport function openChat(chatId, message) {\n    safeChannelIO('openChat', chatId, message);\n}\n/**\n * Initiates a chat by triggering a specified workflow.\n *\n * - Reveals the `messenger` if hidden.\n * - Activates the workflow identified by the given `workflowId`.\n * - No action is taken if `workflowId` is not specified.\n * - Shows an error page if a workflow with the specified `workflowId` does not exist.\n * - Caution: Utilizing this function outside a click event may cause issues in iOS Safari.\n *\n * @param {string} workflowId - Identifier of the targeted workflow.\n * @see https://developers.channel.io/docs/web-channelio#openworkflow\n */\nexport function openWorkflow(workflowId) {\n    safeChannelIO('openWorkflow', workflowId);\n}\n/**\n * Tracks user event.\n *\n * - If the event is new, it gets created.\n * - Data might take from minutes to hours to appear on the `Desk`.\n *\n * @param {string} eventName - Name of the event. Max length is 30 characters.\n * @param {EventProperty | undefined} eventProperty - Additional properties for the event.\n * @see [ChannelIO: track API](https://developers.channel.io/docs/web-channelio#track)\n * @see [Event Glossary](https://developers.channel.io/docs/event)\n */\nexport function track(eventName, eventProperty) {\n    safeChannelIO('track', eventName, eventProperty);\n}\n/**\n * Registers a callback function that is invoked when the messenger is displayed.\n * @param {Function} callback - The callback function to be executed.\n */\nexport function onShowMessenger(callback) {\n    safeChannelIO('onShowMessenger', callback);\n}\n/**\n * Registers a callback function that is invoked when the messenger is hidden.\n * @param {Function} callback - The callback function to be executed.\n */\nexport function onHideMessenger(callback) {\n    safeChannelIO('onHideMessenger', callback);\n}\n/**\n * Register a callback invoked when the count of messages that the user has not yet read.\n * @param {BadgeChangedCallback} callback\n * @see [ChannelIO: onbadgechanged API](https://developers.channel.io/docs/web-channelio#onbadgechanged)\n * @see [Customization](https://developers.channel.io/docs/web-customization)\n */\nexport function onBadgeChanged(callback) {\n    safeChannelIO('onBadgeChanged', callback);\n}\n/**\n * Registers a callback function that is invoked when a chat is created.\n * @param {Function} callback - The callback function to be executed.\n */\nexport function onChatCreated(callback) {\n    safeChannelIO('onChatCreated', callback);\n}\n/**\n * Registers a callback function that is invoked when the user updates their profile.\n * @param {FollowUpChangedCallback} callback - The callback function, receiving the `FollowUpProfile` object as an argument.\n * @see https://developers.channel.io/docs/web-channelio#onfollowupchanged\n */\nexport function onFollowUpChanged(callback) {\n    safeChannelIO('onFollowUpChanged', callback);\n}\n/**\n * Registers a callback function that is invoked when the user clicks on a link.\n * - Supported link types include:\n *   - Link buttons or text in marketing pop-ups\n *   - Link buttons or text sent by a manager in chat\n * @param {UrlClickedCallback} callback - The callback function, receiving the clicked URL as an argument.\n * @see https://developers.channel.io/docs/web-channelio#onurlclicked\n */\nexport function onUrlClicked(callback) {\n    safeChannelIO('onUrlClicked', callback);\n}\n/**\n * Clears all registered callbacks\n * @see https://developers.channel.io/docs/web-channelio#clearcallbacks\n */\nexport function clearCallbacks() {\n    safeChannelIO('clearCallbacks');\n}\n/**\n * Updates user information.\n *\n * @param {UpdateUserInfo} userInfo - Object containing user information to be updated.\n * @param {Callback} [callback] - Optional callback function to be executed upon completion.\n * @see https://developers.channel.io/docs/web-channelio#updateuser\n */\nexport function updateUser(userInfo, callback) {\n    safeChannelIO('updateUser', userInfo, callback);\n}\n/**\n * Adds tags to a user.\n * @param {string[]} tags - Unique tags only. Max 10, always in lowercase.\n * @param {Callback} callback - Called on success or failure.\n * @see https://developers.channel.io/docs/web-channelio#addtags\n */\nexport function addTags(tags, callback) {\n    safeChannelIO('addTags', tags, callback);\n}\n/**\n * Removes tags from a user.\n * @param {string[]} tags - Ignores non-existent tags. Empty array or null not allowed.\n * @param {Callback} callback - Called on success or failure.\n * @see https://developers.channel.io/docs/web-channelio#removetags\n */\nexport function removeTags(tags, callback) {\n    safeChannelIO('removeTags', tags, callback);\n}\n/**\n * Sets the current page and user chat profile.\n * - Page can be used instead of canonical URL.\n * @param {string} page - The page to set. Do not pass null or undefined. Use `resetPage` to clear.\n * @param {Record<string, any>} profile - The user chat profile value.\n * @see [ChannelIO: setpage API](https://developers.channel.io/docs/web-channelio#setpage)\n * @see [page Glossary](https://developers.channel.io/docs/page)\n * @see [canonical-url Glossary](https://developers.channel.io/docs/canonical-url)\n */\nexport function setPage(page, profile) {\n    safeChannelIO('setPage', page, profile);\n}\n/**\n * - Reset the page and user chat profile value.\n * - If you use resetPage, a canonical URL is used as the page value.\n * @see [ChannelIO: resetpage API](https://developers.channel.io/docs/web-channelio#resetpage)\n * @see [page Glossary](https://developers.channel.io/docs/page)\n * @see [canonical-url Glossary](https://developers.channel.io/docs/canonical-url)\n */\nexport function resetPage() {\n    safeChannelIO('resetPage');\n}\n/**\n * Shows the channel button.\n * - No need to call if `hideChannelButtonOnBoot` is false or `hideChannelButton` was not called.\n * @see [ChannelIO: showChannelButton API](https://developers.channel.io/docs/web-channelio#showchannelbutton)\n * @see [Channel Button Glossary](https://developers.channel.io/docs/glossary#channel-button)\n */\nexport function showChannelButton() {\n    safeChannelIO('showChannelButton');\n}\n/**\n * Hides the channel button.\n * @see [ChannelIO: hidechannelbutton API](https://developers.channel.io/docs/web-channelio#hidechannelbutton)\n * @see [Channel Button Glossary](https://developers.channel.io/docs/glossary#channel-button)\n */\nexport function hideChannelButton() {\n    safeChannelIO('hideChannelButton');\n}\n/**\n * Sets the appearance theme.\n * @param {Appearance} appearance\n */\nexport function setAppearance(appearance) {\n    safeChannelIO('setAppearance', appearance);\n}\n"],"names":["isSSR","isSDKLoaded","safeChannelIO","args","loadScript","w","ch","_a","l","s","x","boot","option","callback","shutdown","showMessenger","updateUser","userInfo"],"mappings":"+ZAAA,MAAMA,EAAQ,IACN,OAAO,OAAW,KAClB,QAAQ,MAAM,gDAAgD,EACvD,IAEJ,GAELC,EAAc,IACX,OAAO,UAIL,IAHH,QAAQ,MAAM,kFAAkF,EACzF,IAITC,EAAgB,IAAIC,IAAS,CAC3BH,EAAK,GAAM,CAACC,KAGhB,OAAO,UAAU,GAAGE,CAAI,CAC5B,EAMO,SAASC,GAAa,CACrBJ,EAAK,IAGR,UAAY,CACT,IAAIK,EAAI,OACR,GAAMA,EAAE,UACJ,OAEJ,IAAIC,EAAK,UAAY,CACjB,IAAIC,GACHA,EAAKD,EAAG,KAAO,MAAQC,IAAO,QAAkBA,EAAG,KAAKD,EAAI,SAAS,CAC1E,EACAA,EAAG,EAAI,CAAA,EACPA,EAAG,EAAI,SAAUH,EAAM,CACnB,IAAII,GACHA,EAAKD,EAAG,KAAO,MAAQC,IAAO,QAAkBA,EAAG,KAAKJ,CAAI,CACjE,EACAE,EAAE,UAAYC,EACd,SAASE,GAAI,CACT,GAAI,CAAAH,EAAE,qBAGN,CAAAA,EAAE,qBAAuB,GACzB,IAAII,EAAI,SAAS,cAAc,QAAQ,EACvCA,EAAE,KAAO,kBACTA,EAAE,MAAQ,GACVA,EAAE,IAAM,iDACR,IAAIC,EAAI,SAAS,qBAAqB,QAAQ,EAAE,CAAC,EAC7CA,EAAE,YACFA,EAAE,WAAW,aAAaD,EAAGC,CAAC,EAEtC,CACI,SAAS,aAAe,WACxBF,EAAC,GAGDH,EAAE,iBAAiB,mBAAoBG,CAAC,EACxCH,EAAE,iBAAiB,OAAQG,CAAC,EAEpC,GAAC,CACL,CAUO,SAASG,EAAKC,EAAQC,EAAU,CACnCX,EAAc,OAAQU,EAAQC,CAAQ,CAC1C,CAIO,SAASC,GAAW,CACvBZ,EAAc,UAAU,CAC5B,CAOO,SAASa,GAAgB,CAC5Bb,EAAc,eAAe,CACjC,CAsHO,SAASc,EAAWC,EAAUJ,EAAU,CAC3CX,EAAc,aAAce,EAAUJ,CAAQ,CAClD","x_google_ignoreList":[0]}
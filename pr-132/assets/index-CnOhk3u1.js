import{a as l,j as e}from"./emotion-react-jsx-runtime.browser.esm-CEuHzFsl.js";import{r as d}from"./chunk-JZWAC4HX-CLyBVW00.js";import{F as p,s as T}from"./FlexWrapper-BKgRhobj.js";import{u as k,t as B}from"./index-CY0Fap4D.js";import{B as x}from"./media-B8FZMoF3.js";import{G}from"./GradeWrap-DtDXzEiG.js";import{T as N}from"./TextInputArea-rlYx3YPh.js";import{T as u}from"./Typography-ChfspkpA.js";import{u as S}from"./useIsDevice-CE-wOeI_.js";import{u as $}from"./useUserStore-D-kM-l4Y.js";import{W as j}from"./Widget-Bdt17f7J.js";import{u as q}from"./useTranslation-BBI9J35P.js";import{T as C}from"./Trans-ngCVmP-o.js";import"./env-C8yU1GCz.js";(function(){try{var t=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};t.SENTRY_RELEASE={id:"1f66a93a2e73ddc5421829c6c9db82df82d87106"};var s=new t.Error().stack;s&&(t._sentryDebugIds=t._sentryDebugIds||{},t._sentryDebugIds[s]="150c9e8a-03e7-452c-9d30-68fccd513a71",t._sentryDebugIdIdentifier="sentry-dbid-150c9e8a-03e7-452c-9d30-68fccd513a71")}catch{}})();const L=T(p)`
    height: 173px;
    border-radius: 6px;
    background-color: ${({theme:t})=>t.colors.Background.Block.default};
`,W=T.div`
    display: grid;
    grid-template-columns: max-content auto;
    column-gap: 12px;
    row-gap: 8px;
    align-items: end;
`;function V(){const{user:t,status:s}=$(),m=k(),{query:r}=S("GET","/users/writable-review",{enabled:s==="success"}),{requestFunction:b}=S("POST","/reviews",{onSuccess:v}),[c,g]=d.useState(""),[i,h]=d.useState(0),[o,y]=d.useState(0),[n,w]=d.useState(0),{t:a}=q();function v(){r.refetch(),g(""),h(0),y(0),w(0)}function I(){r.data&&(b({lectureId:r.data.lectureId,content:c,grade:i,load:o,speech:n}),B("Submit Review",{lectureId:r.data.lectureId,courseName:r.data.name,grade:i,load:o,speech:n,source:"Home"}),m.invalidateQueries({queryKey:["/users/written-reviews"]}),m.invalidateQueries({queryKey:[`/users/${t?.id}/lectures`]}))}return r.data?l(j,{direction:"column",gap:20,padding:"23px 30px",align:"stretch",children:[e(u,{type:"BiggerBold",color:"Text.default",children:e(C,{i18nKey:"main.reviewSection.title",values:{lectureName:r.data?.name}})}),e(L,{direction:"column",align:"stretch",justify:"stretch",gap:0,children:e(N,{placeholder:a("main.reviewSection.placeholder"),type:"text",readOnly:!1,value:c,handleChange:g,area:!0})}),l(p,{direction:"column",gap:20,align:"stretch",children:[e(W,{children:[[a("common.grade"),i,h],[a("common.load"),o,y],[a("common.speech"),n,w]].map(([f,R,E])=>l(d.Fragment,{children:[e(u,{type:"Normal",color:"Text.light",children:f}),e(p,{direction:"row",align:"center",gap:10,children:e(G,{score:R,setScore:E})},f)]},f))}),l(p,{direction:"row",justify:"flex-end",gap:12,children:[e(x,{type:"default",$paddingLeft:8,$paddingTop:8,onClick:v,children:e(u,{type:"Normal",children:a("main.reviewSection.writeAnother")})}),e(x,{type:c&&i&&n&&o?"default":"disabled",$paddingLeft:8,$paddingTop:8,onClick:I,children:e(u,{type:"Normal",color:c&&i&&n&&o?"Highlight.default":"Text.disable",children:a("common.upload")})})]})]})]}):null}export{V as default};
//# sourceMappingURL=index-CnOhk3u1.js.map

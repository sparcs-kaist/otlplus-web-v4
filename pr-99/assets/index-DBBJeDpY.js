import{j as o,a as u}from"./emotion-react-jsx-runtime.browser.esm-8UMkxFz9.js";import{r as i,L as k}from"./chunk-EPOLDU6W-KpoCz4BB.js";import{F as l,n as E}from"./FlexWrapper-B5D4Zkyg.js";import{u as I,k as j}from"./useIsDevice-Cuofnmc6.js";import{T as g}from"./Typography-KcI2YyzW.js";import{W as v}from"./Widget-Dmlt48UI.js";import{u as B}from"./useTranslation-ByazR4ZC.js";import{T as L}from"./Trans-l4mlJpBm.js";import"./index-D47CrH3F.js";import"./env-DAdN_rdt.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"d1eb23f3da0295132181d6b2224cb1631fc7940e"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},a=new e.Error().stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="83656b1c-c758-41c5-9ffa-247bd9889acf",e._sentryDebugIdIdentifier="sentry-dbid-83656b1c-c758-41c5-9ffa-247bd9889acf")})()}catch{}const M=E(k)`
    color: ${({theme:e})=>e.colors.Highlight.default};
    text-decoration: none;
    font-size: ${({theme:e})=>e.fonts.NormalBold.fontSize}px;
    font-weight: ${({theme:e})=>e.fonts.NormalBold.fontWeight};

    &:hover {
        color: ${({theme:e})=>e.colors.Highlight.dark};
    }
`;function P(){const{query:e}=I("GET","/semesters"),[a,S]=i.useState(new Date),[T,w]=i.useState(""),[m,x]=i.useState(null),[h,p]=i.useState(""),[c,y]=i.useState(null),{t:d}=B();i.useEffect(()=>{const r=setInterval(()=>S(new Date),1e3);return()=>clearInterval(r)},[]),i.useEffect(()=>{if(!e.data?.semesters)return;const r=e.data.semesters[e.data.semesters.length-1];if(!r)return;x({year:r.year,semester:r.semester});const f=Object.entries(r).filter(([t,n])=>t!=="year"&&t!=="semester"&&n!==null).map(([t,n])=>[t,new Date(n)]).sort((t,n)=>t[1].getTime()-n[1].getTime());for(const[t,n]of f)if(a.getTime()<=n.getTime()){p(t),y(n);return}const s=f[f.length-1];s&&(p(s[0]),y(s[1]))},[e.data]),i.useEffect(()=>{if(!c)return;const r=c.getTime()-a.getTime(),f=r<0,s=Math.abs(r),t=Math.floor(s/(1e3*60*60*24)),n=Math.floor(s/(1e3*60*60)%24),$=Math.floor(s/(1e3*60)%60),D=Math.floor(s/1e3%60);w(`D${f?"+":"-"}${t} ${n}${d("common.hours")} ${$}${d("common.minutes")} ${D}${d("common.seconds")}`)},[a,c]);function b(){return m?m.year.toString()+" "+j(m.semester)+" "+d(`main.schedule.contents.${h}`):d(`main.schedule.contents.${h}`)}return c?o(v,{direction:"column",align:"stretch",gap:0,padding:"23px 30px",children:u(l,{direction:"column",align:"stretch",gap:16,children:[u(l,{direction:"column",align:"center",gap:10,children:[u(l,{direction:"column",align:"stretch",gap:0,children:[o(l,{direction:"row",justify:"center",gap:0,style:{textAlign:"center"},children:o(g,{type:"BiggerBold",color:"Text.dark",children:o(L,{i18nKey:"main.schedule.title",values:{content:b()}})})}),o(l,{direction:"row",justify:"center",gap:0,style:{textAlign:"center"},children:o(g,{type:"BiggerBold",color:"Text.dark",children:T})})]}),o(l,{direction:"column",gap:0,style:{textAlign:"center"},children:u(g,{type:"Normal",color:"Text.placeholder",children:[b()," ",c.getFullYear(),".",String(c.getMonth()+1).padStart(2,"0"),".",String(c.getDate()).padStart(2,"0")]})})]}),o(l,{direction:"column",align:"flex-end",gap:0,children:o(M,{to:"https://erp.kaist.ac.kr",target:"_blank",children:d("main.schedule.link")})})]})}):null}export{P as default};
//# sourceMappingURL=index-DBBJeDpY.js.map

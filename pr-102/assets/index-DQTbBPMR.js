import{j as o,a as u}from"./emotion-react-jsx-runtime.browser.esm-DUmYexnX.js";import{r as i,L as k}from"./chunk-EPOLDU6W-DQKiFOjn.js";import{F as c,n as E}from"./FlexWrapper-CTrEas-V.js";import{u as I,k as j}from"./useIsDevice-C2GQPT6y.js";import{T as g}from"./Typography-BSrXKA9t.js";import{W as v}from"./Widget-BqLQ8Ggv.js";import{u as B}from"./useTranslation-T7aNdaXM.js";import{T as L}from"./Trans-Bq6T4tB5.js";import"./index-D88TTaBc.js";import"./env-CAsOuN3y.js";(function(){try{var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};e.SENTRY_RELEASE={id:"ca4a78ff269da3d3e416f4f3ebc9a14b37545d76"}}catch{}})();try{(function(){var e=typeof window<"u"?window:typeof global<"u"?global:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},a=new e.Error().stack;a&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[a]="596e0964-0ca4-44d7-9f4a-7fd74c558ba8",e._sentryDebugIdIdentifier="sentry-dbid-596e0964-0ca4-44d7-9f4a-7fd74c558ba8")})()}catch{}const M=E(k)`
    color: ${({theme:e})=>e.colors.Highlight.default};
    text-decoration: none;
    font-size: ${({theme:e})=>e.fonts.NormalBold.fontSize}px;
    font-weight: ${({theme:e})=>e.fonts.NormalBold.fontWeight};

    &:hover {
        color: ${({theme:e})=>e.colors.Highlight.dark};
    }
`;function P(){const{query:e}=I("GET","/semesters"),[a,T]=i.useState(new Date),[b,w]=i.useState(""),[m,x]=i.useState(null),[h,p]=i.useState(""),[l,y]=i.useState(null),{t:d}=B();i.useEffect(()=>{const r=setInterval(()=>T(new Date),1e3);return()=>clearInterval(r)},[]),i.useEffect(()=>{if(!e.data?.semesters)return;const r=e.data.semesters[e.data.semesters.length-1];if(!r)return;x({year:r.year,semester:r.semester});const f=Object.entries(r).filter(([t,n])=>t!=="year"&&t!=="semester"&&n!==null).map(([t,n])=>[t,new Date(n)]).sort((t,n)=>t[1].getTime()-n[1].getTime());for(const[t,n]of f)if(a.getTime()<=n.getTime()){p(t),y(n);return}const s=f[f.length-1];s&&(p(s[0]),y(s[1]))},[e.data]),i.useEffect(()=>{if(!l)return;const r=l.getTime()-a.getTime(),f=r<0,s=Math.abs(r),t=Math.floor(s/(1e3*60*60*24)),n=Math.floor(s/(1e3*60*60)%24),$=Math.floor(s/(1e3*60)%60),D=Math.floor(s/1e3%60);w(`D${f?"+":"-"}${t} ${n}${d("common.hours")} ${$}${d("common.minutes")} ${D}${d("common.seconds")}`)},[a,l]);function S(){return m?m.year.toString()+" "+j(m.semester)+" "+d(`main.schedule.contents.${h}`):d(`main.schedule.contents.${h}`)}return l?o(v,{direction:"column",align:"stretch",gap:0,padding:"23px 30px",children:u(c,{direction:"column",align:"stretch",gap:16,children:[u(c,{direction:"column",align:"center",gap:10,children:[u(c,{direction:"column",align:"stretch",gap:0,children:[o(c,{direction:"row",justify:"center",gap:0,style:{textAlign:"center"},children:o(g,{type:"BiggerBold",color:"Text.dark",children:o(L,{i18nKey:"main.schedule.title",values:{content:S()}})})}),o(c,{direction:"row",justify:"center",gap:0,style:{textAlign:"center"},children:o(g,{type:"BiggerBold",color:"Text.dark",children:b})})]}),o(c,{direction:"column",gap:0,style:{textAlign:"center"},children:u(g,{type:"Normal",color:"Text.placeholder",children:[S()," ",l.getFullYear(),".",String(l.getMonth()+1).padStart(2,"0"),".",String(l.getDate()).padStart(2,"0")]})})]}),o(c,{direction:"column",align:"flex-end",gap:0,children:o(M,{to:"https://erp.kaist.ac.kr",target:"_blank",children:d("main.schedule.link")})})]})}):null}export{P as default};
//# sourceMappingURL=index-DQTbBPMR.js.map
